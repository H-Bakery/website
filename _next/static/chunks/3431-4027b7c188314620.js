(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3431],{13431:(e,n,a)=>{"use strict";a.d(n,{A:()=>G});var s=a(95155),r=a(12115),t=a(36054),i=a(16150),o=a(9670),l=a(53687),c=a(3737),d=a(44146),h=a(91580),x=a(16537),p=a(95183),u=a(50095),m=a(55592),g=a(34152),A=a(80158),b=a(72131),j=a(95439),k=a(14995),f=a(73746),y=a(35695),S=a(41203),v=a(2560),w=a(41748),M=a(59718),z=a(49929),B=a(43383),C=a(75785),P=a(30782),E=a(78435),V=a(26877),I=a(20772),R=a(61855);a(24978);let _={name:"Max M\xfcller",role:"Production",avatar:null},G=e=>{let{children:n}=e,a=(0,f.A)(),G=(0,t.A)(a.breakpoints.down("md")),D=(0,y.useRouter)(),H=(0,y.usePathname)(),[N,O]=(0,r.useState)(!G),[F,K]=(0,r.useState)(null),[T,W]=(0,r.useState)(!0),[q,J]=(0,r.useState)("B\xe4ckerei-Management");(0,r.useEffect)(()=>{H&&(H.includes("/bakery/processes")?J("Backstube: Produktionsprozesse"):H.includes("/orders/baking-list")?J("Backstube: Bestelllisten"):H.includes("/orders")?J("Verkaufsbereich: Bestellungen"):H.includes("/dashboard/sales")?J("Verkaufsbereich: Statistik"):H.includes("/dashboard/production")?J("Backstube: Statistik"):H.includes("/dashboard/management")?J("Verwaltung: Kennzahlen"):J("B\xe4ckerei-Management"))},[H]),(0,r.useEffect)(()=>{T||D.push("/login")},[T,D]);let L=()=>{K(null)},Q=[{section:"Hauptnavigation",items:[{name:"Dashboard",icon:(0,s.jsx)(v.A,{}),path:"/dashboard",roles:["Management","Production","Sales"]}]},{section:"Backstube",items:[{name:"Produktionsprozesse",icon:(0,s.jsx)(V.A,{}),path:"/bakery/processes",roles:["Management","Production"]},{name:"Bestelllisten",icon:(0,s.jsx)(z.A,{}),path:"/orders",roles:["Management","Production"]},{name:"Samstag Spezialproduktion",icon:(0,s.jsx)(V.A,{}),path:"/bakery/saturday-production",roles:["Management","Production"]}]},{section:"Verkaufsbereich",items:[{name:"Bestellungen",icon:(0,s.jsx)(M.default,{}),path:"/orders",roles:["Management","Sales"]},{name:"Produkte",icon:(0,s.jsx)(w.A,{}),path:"/products",roles:["Management","Sales"]},{name:"Verkaufsstatistik",icon:(0,s.jsx)(E.A,{}),path:"/dashboard/sales",roles:["Management","Sales"]}]},{section:"Verwaltung",items:[{name:"Mitarbeiter",icon:(0,s.jsx)(B.A,{}),path:"/admin/staff",roles:["Management"]},{name:"Einstellungen",icon:(0,s.jsx)(C.A,{}),path:"/admin/settings",roles:["Management"]}]}].map(e=>({...e,items:e.items.filter(e=>e.roles.includes(_.role))})).filter(e=>e.items.length>0),[U,X]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{localStorage.getItem("token")||U||W(!1),X(!0)},[U]),T)?(0,s.jsxs)(i.A,{sx:{display:"flex",minHeight:"100vh"},children:[(0,s.jsx)(l.A,{position:"fixed",sx:{zIndex:a.zIndex.drawer+1,backgroundColor:"white",color:"text.primary",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,s.jsxs)(c.A,{children:[(0,s.jsx)(d.A,{color:"inherit","aria-label":"toggle menu",onClick:()=>O(!N),edge:"start",sx:{mr:2},children:N&&G?(0,s.jsx)(I.A,{}):(0,s.jsx)(S.A,{})}),(0,s.jsx)(o.A,{variant:"h6",component:"div",sx:{flexGrow:1},children:(0,s.jsx)(i.A,{sx:{display:"flex",alignItems:"center"},children:(0,s.jsx)(o.A,{variant:"h6",component:"span",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:q})})}),(0,s.jsx)(h.A,{avatar:_.avatar?(0,s.jsx)(x.A,{src:_.avatar}):(0,s.jsx)(x.A,{children:_.name.charAt(0)}),label:(0,s.jsxs)(i.A,{children:[(0,s.jsx)(o.A,{variant:"body2",component:"span",children:_.name}),(0,s.jsx)(o.A,{variant:"caption",component:"span",sx:{display:"block",opacity:.7},children:(()=>{switch(_.role){case"Management":return"Gesch\xe4ftsf\xfchrung";case"Production":return"B\xe4ckermeister";case"Sales":return"Verkauf";default:return _.role}})()})]}),onClick:e=>K(e.currentTarget),sx:{height:"auto",pl:.5,pr:1.5,py:.75,borderRadius:2,cursor:"pointer","& .MuiChip-label":{px:1}}}),(0,s.jsxs)(p.A,{anchorEl:F,open:!!F,onClose:L,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,s.jsxs)(u.A,{onClick:()=>{L(),D.push("/profile")},children:[(0,s.jsx)(m.A,{children:(0,s.jsx)(R.A,{fontSize:"small"})}),(0,s.jsx)(g.A,{children:"Mein Profil"})]}),(0,s.jsx)(A.A,{}),(0,s.jsxs)(u.A,{onClick:()=>{L(),localStorage.removeItem("token"),W(!1)},children:[(0,s.jsx)(m.A,{children:(0,s.jsx)(P.A,{fontSize:"small"})}),(0,s.jsx)(g.A,{children:"Abmelden"})]})]})]})}),(0,s.jsxs)(b.Ay,{variant:G?"temporary":"persistent",open:N,onClose:()=>O(!1),sx:{width:260,flexShrink:0,"& .MuiDrawer-paper":{width:260,boxSizing:"border-box",borderRight:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"none"}},children:[(0,s.jsx)(c.A,{}),(0,s.jsx)(i.A,{sx:{overflow:"auto",pt:2},children:Q.map((e,n)=>(0,s.jsxs)(r.Fragment,{children:[n>0&&(0,s.jsx)(A.A,{sx:{my:2}}),(0,s.jsx)(o.A,{variant:"overline",color:"text.secondary",sx:{px:3,py:1,display:"block"},children:e.section}),(0,s.jsx)(j.A,{children:e.items.map(e=>(0,s.jsxs)(k.Ay,{button:!0,onClick:()=>{D.push(e.path),G&&O(!1)},sx:{borderRadius:"0 24px 24px 0",mr:1,color:H===e.path?"primary.main":"text.primary",bgcolor:H===e.path?"rgba(0, 0, 0, 0.04)":"transparent","&:hover":{bgcolor:H===e.path?"rgba(0, 0, 0, 0.08)":"rgba(0, 0, 0, 0.04)"}},children:[(0,s.jsx)(m.A,{sx:{color:H===e.path?"primary.main":"inherit"},children:e.icon}),(0,s.jsx)(g.A,{primary:e.name})]},e.name))})]},e.section))})]}),(0,s.jsx)(i.A,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(260*!!N,"px)")},mt:"64px",transition:a.transitions.create(["width","margin"],{easing:a.transitions.easing.sharp,duration:a.transitions.duration.leavingScreen})},children:n})]}):null}},24978:()=>{}}]);