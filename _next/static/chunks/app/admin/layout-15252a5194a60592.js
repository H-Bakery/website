(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{10444:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>et});var t=a(95155),n=a(12115),i=a(91767),s=a(83745),o=a(16150),l=a(84256),d=a(36054),c=a(9670),h=a(53687),x=a(56278),m=a(3737),p=a(44146),u=a(26096),g=a(51877),b=a(91580),f=a(16537),A=a(95183),j=a(80158),k=a(50095),y=a(55592),v=a(34152),S=a(55857),w=a(72131),F=a(95439),M=a(14995),C=a(73746),P=a(37049),B=a(35695),E=a(41203),z=a(2560),D=a(41748),I=a(59718),W=a(49929),R=a(43383),V=a(75785),_=a(30782),N=a(78435),O=a(26877),G=a(13106),L=a(20772),T=a(61855),H=a(81788),Q=a(17923),K=a(47110),U=a(9825),X=a(66766);a(24978);var q=a(89521),J=a(78904);let Y=e=>{let{tooltip:r=!0}=e,{mode:a,toggleTheme:n}=(0,P.D)(),i=(0,B.usePathname)();if(!(null==i?void 0:i.startsWith("/admin")))return null;let s="dark"===a?(0,t.jsx)(J.A,{}):(0,t.jsx)(q.A,{}),o=(0,t.jsx)(p.A,{onClick:n,color:"inherit","aria-label":"toggle light/dark theme",size:"medium",children:s});return r?(0,t.jsx)(u.A,{title:"dark"===a?"Switch to Light Mode":"Switch to Dark Mode",arrow:!0,children:o}):o},Z={name:"Max M\xfcller",role:"Production",avatar:null},$=e=>{let{children:r}=e,a=(0,C.A)(),{mode:i}=(0,P.D)(),s=(0,d.A)(a.breakpoints.down("md")),l=(0,B.useRouter)(),q=(0,B.usePathname)(),J=null==q?void 0:q.startsWith("/admin"),$=J?i:"light",[ee,er]=(0,n.useState)(!s),[ea,et]=(0,n.useState)(null),[en,ei]=(0,n.useState)(!0),[es,eo]=(0,n.useState)("B\xe4ckerei-Management");(0,n.useEffect)(()=>{q&&(q.includes("/admin/production/processes")?eo("Backstube: Produktionsprozesse"):q.includes("/admin/production/orders")?eo("Backstube: Bestelllisten"):q.includes("/admin/orders")?eo("Verkaufsbereich: Bestellungen"):q.includes("/admin/dashboard/sales")?eo("Verkaufsbereich: Statistik"):q.includes("/admin/dashboard/production")?eo("Backstube: Statistik"):q.includes("/admin/dashboard/management")?eo("Verwaltung: Kennzahlen"):eo("B\xe4ckerei-Management"))},[q]),(0,n.useEffect)(()=>{en||l.push("/login")},[en,l]);let el=()=>{et(null)},ed=[{section:"Hauptnavigation",items:[{name:"Start",icon:(0,t.jsx)(z.A,{}),path:"/admin",roles:["Management","Production","Sales"]},{name:"Dashboard",icon:(0,t.jsx)(z.A,{}),path:"/admin/dashboard",roles:["Management","Production","Sales"]},{name:"Produkte",icon:(0,t.jsx)(z.A,{}),path:"/admin/products",roles:["Management","Production","Sales"]},{name:"Social Media",icon:(0,t.jsx)(U.A,{}),path:"/admin/social-media",roles:["Management","Production","Sales"]}]},{section:"Backstube",items:[{name:"Produktionsprozesse",icon:(0,t.jsx)(O.A,{}),path:"/admin/bakery/processes",roles:["Management","Production"]},{name:"Rezepte",icon:(0,t.jsx)(G.A,{}),path:"/admin/bakery/recipes",roles:["Management","Production"]},{name:"Bestelllisten",icon:(0,t.jsx)(W.A,{}),path:"/admin/orders",roles:["Management","Production"]},{name:"Samstag Spezialproduktion",icon:(0,t.jsx)(O.A,{}),path:"/admin/bakery/saturday-production",roles:["Management","Production"]}]},{section:"Verkaufsbereich",items:[{name:"Bestellungen",icon:(0,t.jsx)(I.default,{}),path:"/admin/orders",roles:["Management","Sales"]},{name:"Produkte",icon:(0,t.jsx)(D.A,{}),path:"/admin/products",roles:["Management","Sales"]},{name:"Verkaufsstatistik",icon:(0,t.jsx)(N.A,{}),path:"/admin/dashboard/sales",roles:["Management","Sales"]}]},{section:"Verwaltung",items:[{name:"Mitarbeiter",icon:(0,t.jsx)(R.A,{}),path:"/admin/staff",roles:["Management"]},{name:"Einstellungen",icon:(0,t.jsx)(V.A,{}),path:"/admin/settings",roles:["Management"]}]}].map(e=>({...e,items:e.items.filter(e=>e.roles.includes(Z.role))})).filter(e=>e.items.length>0),[ec,eh]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{localStorage.getItem("token")||ec||ei(!1),eh(!0)},[ec]),en)?(0,t.jsxs)(o.A,{sx:{display:"flex",minHeight:"100vh"},children:[(0,t.jsx)(h.A,{position:"fixed",color:"dark"===$?"inherit":"primary",sx:{zIndex:a.zIndex.drawer+1,backgroundColor:"dark"===$?(0,x.X4)(a.palette.background.paper,.9):a.palette.primary.main,backdropFilter:"blur(8px)",color:"dark"===$?"text.primary":"#fff",boxShadow:"dark"===$?"0 1px 8px rgba(0,0,0,0.15)":"0 3px 10px rgba(0,0,0,0.2)"},children:(0,t.jsxs)(m.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(p.A,{color:"inherit","aria-label":"toggle menu",onClick:()=>er(!ee),edge:"start",sx:{mr:1},children:ee&&s?(0,t.jsx)(L.A,{}):(0,t.jsx)(E.A,{})}),(0,t.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(o.A,{sx:{display:"flex",alignItems:"center",mr:1,bgcolor:"dark"===$?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.2)",borderRadius:"50%",width:38,height:38,justifyContent:"center"},children:(0,t.jsx)(X.default,{src:"/admin/admin-logo.svg",width:24,height:24,alt:"Admin Logo",style:{filter:"brightness(0) invert(1)"}})}),(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{variant:"h6",component:"span",sx:{fontWeight:"bold",letterSpacing:"0.5px"},children:"Admin"}),(0,t.jsx)(c.A,{variant:"caption",component:"div",sx:{opacity:.85,fontWeight:500,fontSize:"0.75rem",letterSpacing:"0.5px",mt:-.5,display:{xs:"none",sm:"block"}},children:"B\xe4ckerei-Verwaltung"})]})]})]}),(0,t.jsx)(o.A,{sx:{flexGrow:1,textAlign:"center",px:2,display:{xs:"none",md:"block"}},children:(0,t.jsx)(c.A,{variant:"h6",component:"div",sx:{fontWeight:600,opacity:.95,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:es})}),(0,t.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(u.A,{title:"Hilfe",children:(0,t.jsx)(p.A,{color:"inherit",size:"small",sx:{ml:1},children:(0,t.jsx)(Q.A,{})})}),(0,t.jsx)(u.A,{title:"Benachrichtigungen",children:(0,t.jsx)(p.A,{color:"inherit",size:"small",sx:{ml:1},children:(0,t.jsx)(g.A,{badgeContent:3,color:"error",children:(0,t.jsx)(H.A,{})})})}),J&&(0,t.jsx)(o.A,{sx:{ml:1},children:(0,t.jsx)(Y,{})}),(0,t.jsx)(b.A,{avatar:Z.avatar?(0,t.jsx)(f.A,{src:Z.avatar,sx:{bgcolor:"primary.light",color:"#fff",boxShadow:"dark"===$?"0 0 0 2px rgba(255,255,255,0.1)":"none"}}):(0,t.jsx)(f.A,{sx:{bgcolor:"primary.light",color:"#fff",boxShadow:"dark"===$?"0 0 0 2px rgba(255,255,255,0.1)":"none"},children:Z.name.charAt(0)}),label:(0,t.jsxs)(o.A,{sx:{display:{xs:"none",sm:"block"}},children:[(0,t.jsx)(c.A,{variant:"body2",component:"span",sx:{fontWeight:500},children:Z.name}),(0,t.jsx)(c.A,{variant:"caption",component:"span",sx:{display:"block",opacity:.85},children:(()=>{switch(Z.role){case"Management":return"Gesch\xe4ftsf\xfchrung";case"Production":return"B\xe4ckermeister";case"Sales":return"Verkauf";default:return Z.role}})()})]}),onClick:e=>et(e.currentTarget),sx:{height:"auto",pl:.5,pr:{xs:.5,sm:1.5},py:.75,ml:1.5,borderRadius:2,cursor:"pointer",bgcolor:"transparent",border:"1px solid",borderColor:"dark"===$?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.3)","&:hover":{bgcolor:"dark"===$?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.15)"},"& .MuiChip-label":{px:1,color:"dark"===$?"text.primary":"#fff"}}})]}),(0,t.jsxs)(A.A,{anchorEl:ea,open:!!ea,onClose:el,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},elevation:6,PaperProps:{sx:{minWidth:200,borderRadius:2,boxShadow:"dark"===$?"0 4px 20px rgba(0,0,0,0.4)":"0 4px 20px rgba(0,0,0,0.15)"}},children:[(0,t.jsxs)(o.A,{sx:{px:2,py:1.5},children:[(0,t.jsx)(c.A,{variant:"subtitle1",sx:{fontWeight:600},children:Z.name}),(0,t.jsx)(c.A,{variant:"body2",color:"text.secondary",children:"Management"===Z.role?"Gesch\xe4ftsf\xfchrung":"Production"===Z.role?"B\xe4ckermeister":"Verkauf"})]}),(0,t.jsx)(j.A,{}),(0,t.jsxs)(k.A,{onClick:()=>{el(),l.push("/admin/profile")},sx:{py:1.5},children:[(0,t.jsx)(y.A,{children:(0,t.jsx)(T.A,{fontSize:"small"})}),(0,t.jsx)(v.A,{children:"Mein Profil"})]}),(0,t.jsxs)(k.A,{onClick:()=>{el(),l.push("/admin/security")},sx:{py:1.5},children:[(0,t.jsx)(y.A,{children:(0,t.jsx)(K.A,{fontSize:"small"})}),(0,t.jsx)(v.A,{children:"Sicherheitseinstellungen"})]}),(0,t.jsx)(j.A,{}),(0,t.jsx)(o.A,{sx:{px:2,py:1,display:"flex",justifyContent:"center"},children:(0,t.jsx)(S.A,{variant:"outlined",color:"primary",fullWidth:!0,startIcon:(0,t.jsx)(_.A,{}),onClick:()=>{el(),localStorage.removeItem("token"),ei(!1)},sx:{borderRadius:2},children:"Abmelden"})})]})]})}),(0,t.jsxs)(w.Ay,{variant:s?"temporary":"persistent",open:ee,onClose:()=>er(!1),sx:{width:280,flexShrink:0,"& .MuiDrawer-paper":{width:280,boxSizing:"border-box",borderRight:"dark"===$?"1px solid rgba(255, 255, 255, 0.05)":"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"dark"===$?"none":"2px 0 8px rgba(0,0,0,0.02)",bgcolor:"dark"===$?"background.paper":"white"}},children:[(0,t.jsx)(m.A,{}),(0,t.jsx)(o.A,{sx:{overflow:"auto",pt:2},children:ed.map((e,r)=>(0,t.jsxs)(n.Fragment,{children:[r>0&&(0,t.jsx)(j.A,{sx:{my:2}}),(0,t.jsx)(c.A,{variant:"overline",color:"text.secondary",sx:{px:3,py:1,display:"block",fontWeight:600,letterSpacing:"1px",fontSize:"0.7rem"},children:e.section}),(0,t.jsx)(F.A,{children:e.items.map(e=>(0,t.jsxs)(M.Ay,{button:!0,onClick:()=>{l.push(e.path),s&&er(!1)},sx:{borderRadius:"8px",mx:1,my:.3,color:q===e.path?"#fff":"text.primary",bgcolor:q===e.path?"dark"===$?"primary.dark":"primary.main":"transparent","&:hover":{bgcolor:q===e.path?"dark"===$?"primary.dark":"primary.main":"dark"===$?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.04)"},transition:"all 0.2s"},children:[(0,t.jsx)(y.A,{sx:{color:q===e.path?"#fff":"inherit",minWidth:"42px"},children:e.icon}),(0,t.jsx)(v.A,{primary:e.name})]},e.name))})]},e.section))})]}),(0,t.jsx)(o.A,{component:"main",sx:{flexGrow:1,width:{sm:"calc(100% - ".concat(280*!!ee,"px)")},mt:"64px",p:{xs:2,sm:3},transition:a.transitions.create(["width","margin"],{easing:a.transitions.easing.sharp,duration:a.transitions.duration.leavingScreen}),bgcolor:"dark"===$?"background.default":"transparent"},children:r})]}):null};var ee=a(98850);let er=new i.QueryClient;function ea(e){let{children:r}=e,{mode:a}=(0,P.D)(),n="dark"===a?ee.a5:ee._k;return(0,t.jsx)(s.A,{theme:n,children:(0,t.jsx)($,{children:(0,t.jsx)(o.A,{sx:{mb:4},children:(0,t.jsx)(l.A,{elevation:"dark"===a?1:2,sx:{p:{xs:2,sm:3},borderRadius:2,bgcolor:"dark"===a?"background.paper":"white"},children:r})})})})}function et(e){let{children:r}=e;return(0,t.jsx)(P.N,{children:(0,t.jsx)(i.QueryClientProvider,{client:er,children:(0,t.jsx)(ea,{children:r})})})}},24978:()=>{},37049:(e,r,a)=>{"use strict";a.d(r,{D:()=>o,N:()=>s});var t=a(95155),n=a(12115);let i=(0,n.createContext)(void 0),s=e=>{let{children:r}=e,[a,s]=(0,n.useState)("light");return(0,n.useEffect)(()=>{{let e=localStorage.getItem("themeMode");("light"===e||"dark"===e)&&s(e)}},[]),(0,t.jsx)(i.Provider,{value:{mode:a,toggleTheme:()=>{let e="light"===a?"dark":"light";s(e),localStorage.setItem("themeMode",e)},setMode:e=>{s(e),localStorage.setItem("themeMode",e)}},children:r})},o=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}},45128:(e,r,a)=>{Promise.resolve().then(a.bind(a,10444))},98850:(e,r,a)=>{"use strict";a.d(r,{_k:()=>o,a5:()=>l});var t=a(81663);let n={fontFamily:"Averia Serif Libre"},i={fontFamily:"Averia Serif Libre"},s=e=>({palette:{mode:e,primary:{main:"#D038BA"},success:{main:"#1ADA67"},grey:{50:"#F6F8FC",100:"#F2F5FB",200:"#E8EEFB",300:"#D8E1F4",400:"#B0BFD9",500:"#909FBE",600:"#677695",700:"#485776",800:"#293858",900:"#131F37"},background:"light"===e?{paper:"#FFFFFF",default:"#F6F8FC"}:{paper:"#1E1E1E",default:"#121212"},text:"light"===e?{primary:"#131F37",secondary:"#485776",disabled:"#909FBE"}:{primary:"#FFFFFF",secondary:"#B0BFD9",disabled:"#677695"}},typography:{fontFamily:"'Ubuntu', sans-serif",h1:{...n},h2:{...n},h3:{...n},h4:{...n},h5:{...n},h6:{...n},button:{...i}}}),o=(0,t.A)(s("light")),l=(0,t.A)(s("dark"))}},e=>{var r=r=>e(e.s=r);e.O(0,[1091,8460,9670,752,4756,413,2502,1580,5183,6565,4737,6217,1597,5963,1767,1877,3294,8441,1684,7358],()=>r(45128)),_N_E=e.O()}]);