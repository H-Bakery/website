(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7221],{41188:(e,t,i)=>{Promise.resolve().then(i.bind(i,78936))},78936:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>en});var r=i(95155),n=i(12115),l=i(63159),a=i(16150),o=i(90746),s=i(18203),d=i(9670),c=i(76898),h=i(9520),g=i(80158),x=i(86485),p=i(19494);let m={primary:"#D038BA",secondary:"#F6F8FC",background:"#FFFFFF",text:"#131F37",accent:"#1ADA67",highlight:"#FFD700"},f={primaryBg:{background:"#D038BA",textColor:"#FFFFFF"},whiteBg:{background:"#FFFFFF",textColor:"#D038BA"}},u={plain:"#FFFFFF"},b={primary:{background:"rgba(208, 56, 186, 0.9)",textColor:"#FFFFFF"}},y=[{id:"simple-message",name:"Einfache Nachricht",type:"message",description:"Gro\xdfe, einzelne Textnachricht ideal f\xfcr Ank\xfcndigungen oder Zitate",width:1080,height:1080,textElements:[{id:"message",text:"",maxLength:150,fontSize:72,fontWeight:"bold",placeholder:"Ihre Nachricht hier eingeben...",required:!0},{id:"variant",text:"primary",maxLength:10,fontSize:0,fontWeight:"normal",placeholder:"primary",required:!1,hidden:!0}],imageElements:[{id:"backgroundImage",required:!1,aspectRatio:"1:1",isBackground:!0}],colors:m,backgroundStyle:f.primaryBg.background,textPanelStyle:f.primaryBg},{id:"tagesangebot-mittagstisch",name:"Tagesangebot: Mittagstisch",type:"daily-special",description:"Template f\xfcr den t\xe4glichen Mittagstisch",width:1080,height:1080,textElements:[{id:"title",text:"",maxLength:30,fontSize:56,fontWeight:"bold",placeholder:"Mittagstisch am Freitag",required:!0},{id:"subtitle",text:"",maxLength:40,fontSize:32,fontWeight:"normal",placeholder:"Unser Angebot f\xfcr heute",required:!1},{id:"description",text:"",maxLength:160,fontSize:28,fontWeight:"normal",placeholder:"Detaillierte Beschreibung des Angebots mit allen Zutaten und Beilagen...",required:!0},{id:"price",text:"",maxLength:15,fontSize:46,fontWeight:"bold",placeholder:"9,90 €",required:!0},{id:"callToAction",text:"",maxLength:30,fontSize:24,fontWeight:"normal",placeholder:"Verf\xfcgbar von 11:30 - 14:00 Uhr",required:!1}],imageElements:[{id:"backgroundImage",required:!1,aspectRatio:"1:1",isBackground:!0},{id:"mealImage",required:!1,aspectRatio:"4:3"}],colors:m,backgroundStyle:u.plain,textPanelStyle:b.primary},{id:"brot-des-tages",name:"Brot des Tages",type:"bread-of-day",description:"Pr\xe4sentation des t\xe4glichen Brotangebots",width:1080,height:1080,textElements:[{id:"breadName",text:"",maxLength:30,fontSize:54,fontWeight:"bold",placeholder:"Dinkel-Vollkornbrot",required:!0},{id:"specialLabel",text:"",maxLength:20,fontSize:24,fontWeight:"bold",placeholder:"NEU | VEGAN | BIO",required:!1,highlight:!0},{id:"breadDescription",text:"",maxLength:180,fontSize:26,fontWeight:"normal",placeholder:"Detaillierte Beschreibung des Brotes mit Zutaten, Herkunft und besonderen Merkmalen...",required:!0},{id:"ingredients",text:"",maxLength:100,fontSize:20,fontWeight:"normal",placeholder:"Zutaten: Dinkelmehl, Wasser, Sauerteig, Salz, Hefe",required:!1},{id:"price",text:"",maxLength:15,fontSize:42,fontWeight:"bold",placeholder:"4,20 €",required:!0}],imageElements:[{id:"backgroundImage",required:!1,aspectRatio:"1:1",isBackground:!0},{id:"breadImage",required:!1,aspectRatio:"1:1"}],colors:m,backgroundStyle:u.plain,textPanelStyle:b.primary},{id:"saisonales-angebot",name:"Saisonales Angebot",type:"offer",description:"Pr\xe4sentation von saisonalen Angeboten",width:1080,height:1080,textElements:[{id:"season",text:"",maxLength:20,fontSize:28,fontWeight:"normal",placeholder:"HERBST 2023",required:!1,highlight:!0},{id:"title",text:"",maxLength:30,fontSize:52,fontWeight:"bold",placeholder:"Herbst-Spezialit\xe4ten",required:!0},{id:"subtitle",text:"",maxLength:40,fontSize:32,fontWeight:"normal",placeholder:"Nur f\xfcr kurze Zeit verf\xfcgbar!",required:!1},{id:"description",text:"",maxLength:200,fontSize:26,fontWeight:"normal",placeholder:"Ausf\xfchrliche Beschreibung des saisonalen Angebots mit besonderem Fokus auf die Zutaten und saisonalen Besonderheiten...",required:!0},{id:"priceInfo",text:"",maxLength:50,fontSize:24,fontWeight:"normal",placeholder:"Preise ab 3,50 € je nach Auswahl",required:!1},{id:"callToAction",text:"",maxLength:30,fontSize:32,fontWeight:"bold",placeholder:"Jetzt probieren!",required:!1}],imageElements:[{id:"backgroundImage",required:!1,aspectRatio:"1:1",isBackground:!0},{id:"offerImage",required:!1,aspectRatio:"4:3"}],colors:m,backgroundStyle:u.plain,textPanelStyle:b.primary},{id:"b\xe4ckerei-news",name:"B\xe4ckerei Neuigkeiten",type:"bakery-news",description:"Informationen und Neuigkeiten \xfcber die B\xe4ckerei",width:1080,height:1080,textElements:[{id:"category",text:"",maxLength:20,fontSize:24,fontWeight:"bold",placeholder:"WICHTIGE INFORMATION",required:!1,highlight:!0},{id:"newsTitle",text:"",maxLength:50,fontSize:48,fontWeight:"bold",placeholder:"Wichtige Mitteilung",required:!0},{id:"newsContent",text:"",maxLength:250,fontSize:24,fontWeight:"normal",placeholder:"Ausf\xfchrliche Information zu unseren Neuigkeiten mit allen wichtigen Details f\xfcr unsere Kunden...",required:!0},{id:"date",text:"",maxLength:20,fontSize:22,fontWeight:"normal",placeholder:"G\xfcltig ab 01.05.2023",required:!1},{id:"contact",text:"",maxLength:50,fontSize:20,fontWeight:"normal",placeholder:"Weitere Infos: 0123-456789 oder info@example.com",required:!1}],imageElements:[{id:"backgroundImage",required:!1,aspectRatio:"1:1",isBackground:!0},{id:"newsImage",required:!1,aspectRatio:"16:9"}],colors:m,backgroundStyle:u.plain,textPanelStyle:b.primary},{id:"zitat-des-tages",name:"Zitat des Tages",type:"bakery-news",description:"Inspirierendes Zitat im B\xe4ckerei-Design",width:1080,height:1080,textElements:[{id:"quote",text:"",maxLength:180,fontSize:42,fontWeight:"bold",placeholder:"Brot ist das wertvollste Lebensmittel. Es zu backen ist eine Kunst und zu teilen ein Zeichen der Freundschaft.",required:!0},{id:"author",text:"",maxLength:50,fontSize:24,fontWeight:"normal",placeholder:"- Altes B\xe4cker-Sprichwort",required:!1}],imageElements:[{id:"backgroundImage",required:!1,aspectRatio:"1:1",isBackground:!0}],colors:m,backgroundStyle:u.plain,textPanelStyle:b.primary},{id:"simple-message-white",name:"Nachricht (Wei\xdf)",type:"message",description:"Gro\xdfe Nachricht auf wei\xdfem Hintergrund",width:1080,height:1080,textElements:[{id:"message",text:"",maxLength:150,fontSize:72,fontWeight:"bold",placeholder:"Ihre Nachricht hier eingeben...",required:!0},{id:"variant",text:"white",maxLength:10,fontSize:0,fontWeight:"normal",placeholder:"white",required:!1,hidden:!0}],imageElements:[{id:"backgroundImage",required:!1,aspectRatio:"1:1",isBackground:!0}],colors:m,backgroundStyle:f.whiteBg.background,textPanelStyle:f.whiteBg}],A=function(e,t){var i,r,n,l,a,o,s,d,c;let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1080,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1080,x=document.createElement("canvas");x.width=h,x.height=g;let p=x.getContext("2d");if(!p)return"";let m="message"===t.type,f=(null==(i=e.textElements)?void 0:i.variant)==="white";if(m)f?p.fillStyle="#FFFFFF":p.fillStyle="#D038BA",p.fillRect(0,0,h,g);else{let e=p.createLinearGradient(0,0,0,g);e.addColorStop(0,"#FFFFFF"),e.addColorStop(1,"#F6F8FC"),p.fillStyle=e,p.fillRect(0,0,h,g)}if(!m){let e=p.createLinearGradient(0,.3*g,0,g);e.addColorStop(0,"#D038BA"),e.addColorStop(1,"#C030AA"),p.fillStyle=e,p.fillRect(0,.33*g,h,.67*g)}m&&f?p.fillStyle="#D038BA":p.fillStyle="#FFFFFF",m?(p.textAlign="center",p.font="bold 72px Averia Serif Libre, serif"):(p.textAlign="left",p.font="bold 60px Averia Serif Libre, serif");let u=(null==(r=e.textElements)?void 0:r.message)||(null==(n=e.textElements)?void 0:n.title)||(null==(l=e.textElements)?void 0:l.breadName)||(null==(a=e.textElements)?void 0:a.newsTitle)||"B\xe4ckerei Heusser";if(m?S(p,u,h/2,.5*g,.8*h,80):S(p,u,80,.45*g,.85*h,70),!m){let t=(null==(s=e.textElements)?void 0:s.description)||(null==(d=e.textElements)?void 0:d.breadDescription)||(null==(c=e.textElements)?void 0:c.newsContent)||"";t&&(p.font="32px Ubuntu, sans-serif",S(p,t,80,.58*g,.85*h,40))}let b=(null==(o=e.textElements)?void 0:o.price)||"";return b&&(p.font="bold 58px Averia Serif Libre, serif",p.fillStyle="#FFFFFF",p.save(),p.fillStyle="rgba(255,255,255,0.15)",p.fillRect(60,.77*g,220,70),p.fillStyle="#FFFFFF",p.fillText(b,80,.83*g),p.restore()),p.font="bold 48px Averia Serif Libre, serif",p.textAlign="left",m&&!f?p.fillStyle="#FFFFFF":p.fillStyle="#D038BA",p.fillText("B\xe4ckerei Heusser",60,80),p.beginPath(),p.moveTo(60,100),p.lineTo(400,100),m&&!f?p.strokeStyle="#FFFFFF":p.strokeStyle="#D038BA",p.lineWidth=3,p.stroke(),p.save(),p.beginPath(),p.arc(h-80,g-80,60,0,2*Math.PI),p.fillStyle="rgba(255, 255, 255, 0.2)",p.fill(),p.font="bold 70px Averia Serif Libre, serif",p.fillStyle="#FFFFFF",p.textAlign="center",p.fillText("H",h-80,g-55),p.restore(),x.toDataURL("image/png")};function S(e,t,i,r,n,l){e.save();let a=t.split(" "),o="",s="",d=0;for(let t=0;t<a.length;t++)if(s=o+a[t]+" ",e.measureText(s).width>n&&t>0){if(e.shadowColor="rgba(0, 0, 0, 0.3)",e.shadowBlur=4,e.shadowOffsetX=1,e.shadowOffsetY=1,e.fillText(o,i,r),o=a[t]+" ",r+=l,++d>4){e.fillText(o+"...",i,r);break}}else o=s;e.shadowColor="rgba(0, 0, 0, 0.3)",e.shadowBlur=4,e.shadowOffsetX=1,e.shadowOffsetY=1,e.fillText(o,i,r),e.restore()}var j=i(73746),v=i(44557),F=i(80460),w=i(46455),k=i(26877),z=i(65084),B=i(73922),L=i(70722);let I=e=>{let{value:t,onChange:i}=e;return(0,j.A)(),(0,r.jsx)(s.A,{elevation:0,sx:{p:1,mb:4,borderRadius:2,bgcolor:"background.paper",borderBottom:1,borderColor:"divider"},children:(0,r.jsxs)(v.A,{value:t,onChange:(e,t)=>{i(t)},variant:"scrollable",scrollButtons:"auto","aria-label":"content template types",TabIndicatorProps:{sx:{backgroundColor:"primary.main",height:3}},children:[(0,r.jsx)(F.A,{icon:(0,r.jsx)(w.A,{sx:{mr:1}}),iconPosition:"start",label:"Tagesangebot",value:"daily-special",sx:{minHeight:"60px"}}),(0,r.jsx)(F.A,{icon:(0,r.jsx)(k.A,{sx:{mr:1}}),iconPosition:"start",label:"Brot des Tages",value:"bread-of-day",sx:{minHeight:"60px"}}),(0,r.jsx)(F.A,{icon:(0,r.jsx)(z.A,{sx:{mr:1}}),iconPosition:"start",label:"Angebote",value:"offer",sx:{minHeight:"60px"}}),(0,r.jsx)(F.A,{icon:(0,r.jsx)(B.A,{sx:{mr:1}}),iconPosition:"start",label:"B\xe4ckerei News",value:"bakery-news",sx:{minHeight:"60px"}}),(0,r.jsx)(F.A,{icon:(0,r.jsx)(L.A,{sx:{mr:1}}),iconPosition:"start",label:"Einfache Nachricht",value:"message",sx:{minHeight:"60px"}})]})})};var C=i(67569),W=i(83025),P=i(32582),E=i(70680),T=i(7893),D=i(53267);let q=e=>{let{templateType:t,values:i,onChange:n}=e,l=(0,j.A)(),o={"daily-special":{titleLabel:"Titel des Angebots",titlePlaceholder:"z.B. Mittagstisch am Freitag",titleMaxLength:30,descriptionLabel:"Beschreibung",descriptionPlaceholder:"z.B. Schnitzel mit Pommes und Salat",descriptionMaxLength:160,showPrice:!0,additionalInfoLabel:"Verf\xfcgbarkeit",additionalInfoPlaceholder:"z.B. Verf\xfcgbar von 11:30 - 14:00 Uhr",hideDescription:!1},"bread-of-day":{titleLabel:"Brotname",titlePlaceholder:"z.B. Dinkel-Vollkornbrot",titleMaxLength:30,descriptionLabel:"Beschreibung",descriptionPlaceholder:"z.B. Frisch gebacken mit regionalen Zutaten...",descriptionMaxLength:180,showPrice:!0,additionalInfoLabel:"Zutaten",additionalInfoPlaceholder:"z.B. Dinkelmehl, Wasser, Sauerteig, Salz",hideDescription:!1},offer:{titleLabel:"Titel des Angebots",titlePlaceholder:"z.B. Saisonale Spezialit\xe4ten",titleMaxLength:30,descriptionLabel:"Beschreibung",descriptionPlaceholder:"z.B. Unsere herbstlichen Leckereien...",descriptionMaxLength:200,showPrice:!0,additionalInfoLabel:"G\xfcltigkeitszeitraum",additionalInfoPlaceholder:"z.B. Nur f\xfcr kurze Zeit erh\xe4ltlich",hideDescription:!1},"bakery-news":{titleLabel:"Titel der Nachricht",titlePlaceholder:"z.B. Neue \xd6ffnungszeiten",titleMaxLength:50,descriptionLabel:"Nachrichteninhalt",descriptionPlaceholder:"z.B. Ab n\xe4chster Woche haben wir auch sonntags f\xfcr Sie ge\xf6ffnet...",descriptionMaxLength:250,showPrice:!1,additionalInfoLabel:"G\xfcltigkeitsdatum",additionalInfoPlaceholder:"z.B. G\xfcltig ab 01.06.2024",hideDescription:!1},message:{titleLabel:"Nachrichtentext",titlePlaceholder:"z.B. Wir machen Urlaub!",titleMaxLength:150,descriptionLabel:"",descriptionPlaceholder:"",descriptionMaxLength:0,showPrice:!1,additionalInfoLabel:"Stil",additionalInfoPlaceholder:'Lassen Sie leer f\xfcr roten Hintergrund oder "white" f\xfcr wei\xdfen Hintergrund',hideDescription:!0}}[t];return(0,r.jsx)(s.A,{elevation:0,sx:{p:3,borderRadius:2,bgcolor:"background.paper",boxShadow:l.shadows[1],mb:3},children:(0,r.jsxs)(C.A,{spacing:3,children:[(0,r.jsxs)(a.A,{children:[(0,r.jsxs)(d.A,{variant:"h6",sx:{display:"flex",alignItems:"center",mb:2,color:"primary.main"},children:[(0,r.jsx)(L.A,{sx:{mr:1}}),"Inhalt bearbeiten"]}),(0,r.jsx)(W.A,{sx:{mb:2},children:"Einfach ausf\xfcllen und ein professionelles Social Media Bild erhalten"})]}),(0,r.jsx)(P.A,{fullWidth:!0,label:o.titleLabel,value:i.title,onChange:e=>n("title",e.target.value),placeholder:o.titlePlaceholder,variant:"outlined",required:!0,multiline:"message"===t,rows:"message"===t?5:1,inputProps:{maxLength:o.titleMaxLength},helperText:"".concat(i.title.length,"/").concat(o.titleMaxLength," Zeichen"),FormHelperTextProps:{sx:{display:"flex",justifyContent:"flex-end"}},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),!o.hideDescription&&(0,r.jsx)(P.A,{fullWidth:!0,label:o.descriptionLabel,value:i.description,onChange:e=>n("description",e.target.value),placeholder:o.descriptionPlaceholder,variant:"outlined",required:!0,multiline:!0,rows:4,inputProps:{maxLength:o.descriptionMaxLength},helperText:"".concat(i.description.length,"/").concat(o.descriptionMaxLength," Zeichen"),FormHelperTextProps:{sx:{display:"flex",justifyContent:"flex-end"}},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),o.showPrice&&(0,r.jsx)(P.A,{label:"Preis",value:i.price||"",onChange:e=>n("price",e.target.value),placeholder:"z.B. 4,90",variant:"outlined",required:!0,InputProps:{startAdornment:(0,r.jsx)(E.A,{position:"start",children:(0,r.jsx)(T.A,{})})},sx:{width:"100%",maxWidth:"200px","& .MuiOutlinedInput-root":{borderRadius:2}}}),(0,r.jsx)(P.A,{fullWidth:!0,label:o.additionalInfoLabel,value:i.additionalInfo||"",onChange:e=>n("additionalInfo",e.target.value),placeholder:o.additionalInfoPlaceholder,variant:"outlined",InputProps:{startAdornment:"daily-special"===t?(0,r.jsx)(E.A,{position:"start",children:(0,r.jsx)(D.A,{})}):null},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]})})};var M=i(89915),N=i(68382);let R=e=>{var t,i;let{templateType:l,content:o,loading:g=!1,previewRef:x}=e,p=(0,j.A)(),[m,f]=(0,n.useState)("primary"),u="message"===l?y.find(e=>e.type===l&&("white"===m?"simple-message-white"===e.id:"simple-message"===e.id))||y.find(e=>e.type===l)||y[0]:y.find(e=>e.type===l)||y[0];return(0,n.useEffect)(()=>{"white"===o.additionalInfo?f("white"):f("primary")},[o.additionalInfo]),(0,r.jsxs)(s.A,{sx:{p:4,borderRadius:2,bgcolor:"background.paper",boxShadow:p.shadows[1],height:"100%",display:"flex",flexDirection:"column"},children:[(0,r.jsx)(d.A,{variant:"h6",fontWeight:600,gutterBottom:!0,color:"primary.main",children:"Vorschau"}),(0,r.jsx)(d.A,{variant:"body2",sx:{mb:3,color:"text.secondary"},children:"So wird Ihr Inhalt in sozialen Medien aussehen"}),(0,r.jsx)(a.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,position:"relative",my:4},children:g?(0,r.jsx)(M.A,{size:60}):(0,r.jsx)(a.A,{sx:{width:280,height:280,position:"relative",borderRadius:4,overflow:"hidden",boxShadow:"0px 8px 24px rgba(0, 0, 0, 0.12)"},children:(0,r.jsxs)(a.A,{id:"social-media-content-preview",ref:x,sx:{width:1080,height:1080,background:u.backgroundStyle||u.colors.background,transformOrigin:"0 0",transform:"scale(0.25)",position:"absolute",top:0,left:0,zIndex:1,overflow:"hidden"},children:[(0,r.jsx)(a.A,{sx:{position:"absolute",top:30,left:40,zIndex:5},children:(0,r.jsx)(d.A,{variant:"h4",sx:{fontFamily:"'Averia Serif Libre', serif",fontWeight:700,color:u.colors.primary,letterSpacing:"0.5px",fontSize:"48px"},children:"B\xe4ckerei Heusser"})}),(0,r.jsx)(a.A,{sx:{position:"absolute",bottom:20,right:20,zIndex:4,opacity:.85,transform:"scale(0.2)",transformOrigin:"bottom right",filter:"drop-shadow(0px 2px 5px rgba(0,0,0,0.25))"},children:(0,r.jsx)(N.A,{})}),(0,r.jsx)(a.A,{sx:{position:"absolute",bottom:0,left:0,width:"100%",padding:"7% 15% 7% 8%",backgroundColor:(null==(t=u.textPanelStyle)?void 0:t.background)||"".concat(u.colors.primary,"E0"),color:(null==(i=u.textPanelStyle)?void 0:i.textColor)||"#FFFFFF",minHeight:"67%",display:"flex",flexDirection:"column",justifyContent:"center",zIndex:3},children:"message"===l?(0,r.jsx)(d.A,{sx:{color:"primary"===m?"white":u.colors.primary,fontWeight:"bold",fontSize:"72px",textAlign:"center",width:"100%",fontFamily:"'Averia Serif Libre', serif",letterSpacing:.5,lineHeight:1.3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},children:o.title||"Ihre Nachricht hier eingeben..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{sx:{color:"white",fontWeight:"bold",fontSize:"56px",mb:3,fontFamily:"'Averia Serif Libre', serif",letterSpacing:.5,lineHeight:1.4},children:o.title||"Titel eingeben..."}),(0,r.jsx)(d.A,{sx:{color:"white",fontWeight:"normal",fontSize:"28px",mb:3,fontFamily:"'Averia Serif Libre', serif",letterSpacing:.2,lineHeight:1.4},children:o.description||"Beschreibung eingeben..."}),o.price&&(0,r.jsxs)(d.A,{sx:{color:"white",fontWeight:"bold",fontSize:"42px",mb:2,fontFamily:"'Averia Serif Libre', serif"},children:[o.price," €"]}),o.additionalInfo&&("daily-special"===l||"bread-of-day"===l||"offer"===l||"bakery-news"===l)&&(0,r.jsx)(d.A,{sx:{color:"white",fontSize:"24px",fontFamily:"'Averia Serif Libre', serif",opacity:.9},children:o.additionalInfo})]})})]})})}),"message"===l&&(0,r.jsx)(c.A,{control:(0,r.jsx)(h.A,{checked:"white"===m,onChange:e=>{f(e.target.checked?"white":"primary")},color:"primary",size:"small"}),label:"Wei\xdfer Hintergrund",sx:{mt:1,mb:1,justifyContent:"center",width:"100%","& .MuiTypography-root":{fontSize:"0.875rem"}}}),(0,r.jsx)(d.A,{variant:"caption",sx:{textAlign:"center",color:"text.secondary",mt:2,mb:2,display:"block"},children:"Mit Wappen-Logo in der rechten unteren Ecke"})]})};var H=i(55857),O=i(62861),Z=i(62966),G=i(44146),V=i(12422),U=i(78679),_=i(96248),K=i(20772);let X=e=>{let{onClick:t,loading:i,disabled:l=!1,errorMessage:o,previewId:s="social-media-content-preview"}=e,[c,h]=(0,n.useState)(!1),[g,x]=(0,n.useState)(!1),[p,m]=(0,n.useState)(null),f=async()=>{try{m(null),await t()}catch(e){console.error("Download error:",e),m(e instanceof Error?e.message:"Unbekannter Fehler"),x(!0)}};return(0,r.jsxs)(a.A,{sx:{width:"100%",mt:2},children:[(0,r.jsx)(H.A,{variant:"contained",color:"primary",size:"large",endIcon:i?(0,r.jsx)(M.A,{size:20,color:"inherit"}):(0,r.jsx)(_.A,{}),onClick:f,fullWidth:!0,disabled:i||l,sx:{py:2,borderRadius:2,boxShadow:2,fontSize:"1.1rem",fontFamily:"'Averia Serif Libre', serif"},children:i?"Bild wird erstellt...":"Bild herunterladen & speichern"}),o&&(0,r.jsx)(W.A,{error:!0,sx:{textAlign:"center",mt:1},children:o}),(0,r.jsxs)(W.A,{sx:{textAlign:"center",mt:2,cursor:"pointer"},onClick:()=>h(!0),children:["Sehen Sie ein leeres Bild? ",(0,r.jsx)("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:"Klicken Sie hier f\xfcr Hilfe"})]}),(0,r.jsxs)(O.A,{open:c,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[(0,r.jsx)(Z.A,{children:(0,r.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(d.A,{variant:"h6",children:"Bild speichern - Hilfe"}),(0,r.jsx)(G.A,{onClick:()=>h(!1),children:(0,r.jsx)(K.A,{})})]})}),(0,r.jsxs)(V.A,{children:[(0,r.jsx)(d.A,{variant:"body1",paragraph:!0,children:"Wir verwenden einen neuen, zuverl\xe4ssigeren Weg, um Ihr Social Media Bild zu erstellen. Sollte das Bild leer erscheinen:"}),(0,r.jsxs)(C.A,{spacing:2,children:[(0,r.jsx)(d.A,{variant:"body2",sx:{mb:2,fontWeight:"bold"},children:"Der Download sollte jetzt zuverl\xe4ssig funktionieren. Wenn Sie dennoch ein leeres Bild sehen:"}),(0,r.jsx)(d.A,{variant:"body2",sx:{mb:1},children:"1. Aktualisieren Sie die Seite und versuchen Sie es erneut"}),(0,r.jsx)(d.A,{variant:"body2",sx:{mb:1},children:"2. Verwenden Sie Google Chrome statt Safari oder Firefox"}),(0,r.jsx)(d.A,{variant:"body2",children:"3. Als letzte Option: Erstellen Sie einen Screenshot der Vorschau (Windows: Win+Shift+S, Mac: Cmd+Shift+4)"})]})]}),(0,r.jsx)(U.A,{children:(0,r.jsx)(H.A,{onClick:()=>h(!1),children:"Schlie\xdfen"})})]}),(0,r.jsxs)(O.A,{open:g,onClose:()=>x(!1),children:[(0,r.jsx)(Z.A,{children:(0,r.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(d.A,{variant:"h6",color:"error",children:"Fehler beim Erstellen"}),(0,r.jsx)(G.A,{onClick:()=>x(!1),children:(0,r.jsx)(K.A,{})})]})}),(0,r.jsxs)(V.A,{children:[(0,r.jsx)(d.A,{variant:"body1",paragraph:!0,children:"Es ist ein Fehler beim Erstellen des Bildes aufgetreten. Keine Sorge, Ihr Bild wurde trotzdem generiert:"}),(0,r.jsx)(d.A,{variant:"body2",paragraph:!0,children:"• Verwenden Sie die alternativen Download-Optionen"}),(0,r.jsx)(d.A,{variant:"body2",paragraph:!0,children:"• Verwenden Sie einen anderen Browser (Chrome empfohlen)"}),(0,r.jsx)(d.A,{variant:"body2",children:"Technische Details (f\xfcr Support):"}),(0,r.jsx)(a.A,{sx:{bgcolor:"grey.100",p:1,borderRadius:1,fontSize:"0.8rem",overflow:"auto",maxHeight:"100px"},children:p||"Keine Details verf\xfcgbar"})]}),(0,r.jsxs)(U.A,{children:[(0,r.jsx)(H.A,{onClick:()=>h(!0),children:"Alternativen zeigen"}),(0,r.jsx)(H.A,{onClick:()=>x(!1),color:"primary",children:"Schlie\xdfen"})]})]})]})},Y=()=>{let[e,t]=(0,n.useState)("daily-special"),[i,m]=(0,n.useState)({title:"",description:"",price:"",additionalInfo:""}),[f,u]=(0,n.useState)(!1),[b,S]=(0,n.useState)({open:!1,message:"",severity:"success"}),j=(0,n.useRef)(null),[v,F]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!0),z=(0,n.useRef)(!0);(0,n.useEffect)(()=>()=>{z.current=!1},[]);let B=()=>{S({...b,open:!1})},L=(0,n.useCallback)(async()=>{u(!0);try{let t=y.find(t=>t.type===e)||y[0],r={textElements:{title:i.title,description:i.description,price:i.price?"".concat(i.price," €"):"",callToAction:i.additionalInfo||"",breadName:i.title,breadDescription:i.description,ingredients:i.additionalInfo||"",newsTitle:i.title,newsContent:i.description,date:i.additionalInfo||"",specialLabel:"bread-of-day"===e?"HANDGEMACHT":"",season:"offer"===e?"SONDERANGEBOT":"",subtitle:"offer"===e?i.additionalInfo||"F\xfcr kurze Zeit":"",category:"bakery-news"===e?"INFORMATION":""}},n=A(r,t),l=i.title.replace(/\s+/g,"-").toLowerCase()||"bakery-content",a=new Date().toISOString().split("T")[0],o="baeckerei-heusser-".concat(l,"-").concat(a,".png"),s=document.createElement("a");s.download=o,s.href=n,document.body.appendChild(s),s.click(),document.body.removeChild(s),S({open:!0,message:"Bild erfolgreich heruntergeladen!",severity:"success"}),F(!0)}catch(e){console.error("Error generating image:",e),S({open:!0,message:"Fehler beim Erstellen des Bildes. Alternative Download-Optionen sind verf\xfcgbar.",severity:"error"})}finally{u(!1)}},[i,e]),C=!i.title.trim()||"message"!==e&&!i.description.trim()||"bakery-news"!==e&&"message"!==e&&!i.price.trim(),W=C?"Bitte f\xfcllen Sie die Pflichtfelder aus (Titel"+("message"!==e?", Beschreibung":"")+("bakery-news"!==e&&"message"!==e?" und Preis":"")+")":"";return(0,r.jsxs)(l.A,{maxWidth:"xl",sx:{py:4,position:"relative"},children:[(0,r.jsx)(a.A,{sx:{mb:4},children:(0,r.jsx)(I,{value:e,onChange:e=>{t(e),m(t=>({...t,title:"",price:"bakery-news"===e||"message"===e?"":t.price,description:"message"===e?"":t.description})),F(!1)}})}),(0,r.jsxs)(o.Ay,{container:!0,spacing:4,children:[(0,r.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,r.jsxs)(s.A,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:2,bgcolor:"background.paper",height:"100%"},children:[(0,r.jsxs)(a.A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)(d.A,{variant:"h5",color:"primary.main",fontWeight:500,children:["daily-special"===e&&"Tagesangebot erstellen","bread-of-day"===e&&"Brot des Tages erstellen","offer"===e&&"Angebot erstellen","bakery-news"===e&&"B\xe4ckerei-News erstellen","message"===e&&"Einfache Nachricht erstellen"]}),(0,r.jsx)(c.A,{control:(0,r.jsx)(h.A,{checked:w,onChange:e=>k(e.target.checked),color:"primary"}),label:"Text-optimiert",sx:{"& .MuiTypography-root":{fontSize:"0.875rem"}}})]}),(0,r.jsx)(g.A,{sx:{mb:3}}),(0,r.jsx)(q,{templateType:e,values:i,onChange:(e,t)=>{m(i=>({...i,[e]:t})),v&&F(!1)}}),(0,r.jsx)(X,{onClick:L,loading:f,disabled:C,errorMessage:W,previewId:"social-media-content-preview"}),v&&(0,r.jsxs)(a.A,{sx:{mt:4,textAlign:"center"},children:[(0,r.jsx)(d.A,{variant:"body1",color:"success.main",fontWeight:500,children:"Bild erfolgreich erstellt!"}),(0,r.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Sie k\xf6nnen jetzt ein weiteres Bild erstellen oder das aktuelle bearbeiten."})]})]})}),(0,r.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(R,{templateType:e,content:i,loading:f,previewRef:j})})]}),(0,r.jsx)(x.A,{open:b.open,autoHideDuration:6e3,onClose:B,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,r.jsx)(p.A,{onClose:B,severity:b.severity,sx:{width:"100%"},children:b.message})})]})};var J=i(51454),Q=i(91580),$=i(6874),ee=i.n($),et=i(10243),ei=i(72888),er=i(84671);function en(){let e=(0,j.A)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{sx:{bgcolor:"background.paper",mb:4,py:3,borderBottom:"1px solid",borderColor:"divider",position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"4px",bgcolor:"primary.main"}},children:(0,r.jsxs)(l.A,{children:[(0,r.jsxs)(J.A,{"aria-label":"breadcrumb",children:[(0,r.jsxs)(ee(),{href:"/admin",style:{display:"flex",alignItems:"center",color:"inherit",textDecoration:"none"},children:[(0,r.jsx)(et.default,{fontSize:"small",sx:{mr:.5}}),"Admin"]}),(0,r.jsxs)(d.A,{sx:{display:"flex",alignItems:"center"},color:"text.primary",children:[(0,r.jsx)(er.A,{fontSize:"small",sx:{mr:.5,color:e.palette.primary.main}}),"Social Media"]})]}),(0,r.jsx)(d.A,{variant:"h4",component:"h1",sx:{mt:2,fontWeight:600,fontFamily:"'Averia Serif Libre', serif"},children:"Social Media Content Creator"}),(0,r.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",mt:1,mb:1},children:[(0,r.jsx)(Q.A,{icon:(0,r.jsx)(ei.A,{}),label:"Text-fokussierte Designs",size:"small",color:"primary",variant:"outlined",sx:{mr:1}}),(0,r.jsx)(Q.A,{icon:(0,r.jsx)(er.A,{fontSize:"small"}),label:"Mit Wappen-Logo",size:"small",color:"secondary",variant:"outlined",sx:{mr:1}})]}),(0,r.jsx)(d.A,{variant:"body1",color:"text.secondary",children:"Erstellen Sie professionelle, textbasierte Inhalte mit dem Firmen-Wappen f\xfcr optimale Social Media Pr\xe4senz"})]})}),(0,r.jsx)(Y,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8460,9670,7009,752,4756,413,2502,1580,5183,9152,6396,6874,5320,3729,9520,3792,1993,2101,8382,8441,1684,7358],()=>t(41188)),_N_E=e.O()}]);