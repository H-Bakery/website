(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7053],{32658:(e,n,i)=>{Promise.resolve().then(i.bind(i,60178))},60178:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>$});var t=i(95155),l=i(12115),s=i(73746),r=i(36054),a=i(63159),c=i(16150),o=i(9670),d=i(18203),h=i(90746),u=i(44146),g=i(44557),x=i(80460),m=i(60538),p=i(41790),A=i(67636),j=i(3540),f=i(46455),b=i(26877),k=i(88622),y=i(98358),z=i(90912),v=i(32582),P=i(84256),S=i(83339),w=i(91580),B=i(25949),C=i(57236),G=i(3967),D=i(33470),F=i(9815),H=i(2532),O=i(75713),Z=i(57657),K=i(14459);let N=[{name:"Kranz",weight:600,count:3,description:"Standard Kranz ohne F\xfcllung"},{name:"Gef\xfcllter Kranz",weight:1200,count:1,description:"Kranz mit verschiedenen F\xfcllungen"},{name:"Gef\xfcllter Zopf",weight:500,count:1,description:"Zopf mit F\xfcllung"},{name:"Kleiner Zopf",weight:300,count:2,description:"Kleine Zopfvariante"},{name:"Gro\xdfer Zopf",weight:300,count:3,description:"Gro\xdfe Zopfvariante (aus mehreren Teigst\xfccken)"},{name:"Rosinenbrot",weight:600,count:1,description:"Hefebrot mit Rosinen"},{name:"Kleiner Streusel",weight:500,count:1,description:"Streuselkuchen (klein)"},{name:"Gro\xdfer Streusel",weight:900,count:1,description:"Streuselkuchen (gro\xdf)"},{name:"Teig, ausgerollt",weight:500,count:1,description:"Ausgerollter Teig f\xfcr diverse Geb\xe4cke"}],W=[{name:"Nussf\xfcllung",id:"nuss",recipeBatchSize:1600,ingredients:[{name:"N\xfcsse (gemahlen)",amount:1e3,unit:"g"},{name:"Wasser",amount:600,unit:"ml"}]},{name:"Marzipanf\xfcllung",id:"marzipan",recipeBatchSize:1500,ingredients:[{name:"Marzipanrohmasse",amount:1e3,unit:"g"},{name:"Wasser",amount:500,unit:"ml"}]},{name:"Schokoladenf\xfcllung",id:"schoko",recipeBatchSize:2800,ingredients:[{name:"Kakao",amount:800,unit:"g"},{name:"Zucker",amount:800,unit:"g"},{name:"Wasser",amount:1200,unit:"ml"}]},{name:"Puddingf\xfcllung",id:"pudding",recipeBatchSize:1350,ingredients:[{name:"Puddingmasse",amount:350,unit:"g"},{name:"Wasser",amount:1e3,unit:"ml"}]},{name:"Quarkf\xfcllung",id:"quark",recipeBatchSize:600,ingredients:[{name:"Quark",amount:250,unit:"g"},{name:"Zucker",amount:100,unit:"g"},{name:"Quarkfix",amount:100,unit:"g"},{name:"Sahne",amount:150,unit:"g"}]}],E=e=>W.find(n=>n.id===e),M=e=>{let n=E(e);return n?n.name:e};class T{calculateProductionNeeds(e){let n=0,i={},t=new Map;N.forEach(e=>{t.set(e.name,e)});let l={};W.forEach(e=>{l[e.id]=0}),Object.entries(e).forEach(e=>{let[s,r]=e;if(this.recipes[s]){let e=this.recipes[s],a=t.get(e.doughPiece);if(a){let t=a.weight*a.count*r;n+=t,i[e.doughPiece]=(i[e.doughPiece]||0)+r*a.count,e.filling&&e.fillingAmount&&(l[e.filling]=(l[e.filling]||0)+e.fillingAmount*r)}}});let s=Math.ceil(n/this.standardBatchSize),r={};return Object.entries(l).forEach(e=>{let[n,i]=e;i>0&&(r[n]=Math.ceil(i/15e3))}),{totalDoughWeight:n,doughPieces:i,doughBatches:s,fillings:l,fillingBatches:r,calculator:this}}getDoughPieceDetails(e){return N.find(n=>n.name===e)}getProductsWithFilling(e){return Object.entries(this.recipes).filter(n=>{let[i,t]=n;return t.filling===e}).map(e=>{let[n,i]=e;return n})}constructor(){this.recipes={"Hefezopf Plain":{name:"Hefezopf Plain",doughPiece:"Gro\xdfer Zopf",pieces:1},"Hefekranz Nuss":{name:"Hefekranz Nuss",doughPiece:"Gef\xfcllter Kranz",pieces:1,filling:"nuss",fillingAmount:1200},"Hefekranz Schoko":{name:"Hefekranz Schoko",doughPiece:"Gef\xfcllter Kranz",pieces:1,filling:"schoko",fillingAmount:1200},"Hefekranz Pudding":{name:"Hefekranz Pudding",doughPiece:"Gef\xfcllter Kranz",pieces:1,filling:"pudding",fillingAmount:1200},"Hefekranz Marzipan":{name:"Hefekranz Marzipan",doughPiece:"Gef\xfcllter Kranz",pieces:1,filling:"marzipan",fillingAmount:1200},"Hefekranz Quark":{name:"Hefekranz Quark",doughPiece:"Gef\xfcllter Kranz",pieces:1,filling:"quark",fillingAmount:1200},"Mini Hefezopf":{name:"Mini Hefezopf",doughPiece:"Kleiner Zopf",pieces:1},"Gef\xfcllter Zopf Nuss":{name:"Gef\xfcllter Zopf Nuss",doughPiece:"Gef\xfcllter Zopf",pieces:1,filling:"nuss",fillingAmount:450},"Gef\xfcllter Zopf Schoko":{name:"Gef\xfcllter Zopf Schoko",doughPiece:"Gef\xfcllter Zopf",pieces:1,filling:"schoko",fillingAmount:450},"Gef\xfcllter Zopf Marzipan":{name:"Gef\xfcllter Zopf Marzipan",doughPiece:"Gef\xfcllter Zopf",pieces:1,filling:"marzipan",fillingAmount:450},Rosinenbrot:{name:"Rosinenbrot",doughPiece:"Rosinenbrot",pieces:1},"Streuselkuchen Klein":{name:"Streuselkuchen Klein",doughPiece:"Kleiner Streusel",pieces:1},"Streuselkuchen Gro\xdf":{name:"Streuselkuchen Gro\xdf",doughPiece:"Gro\xdfer Streusel",pieces:1}},this.standardBatchSize=4e4}}let I=e=>{let{orders:n,onOrderChange:i,date:l}=e,a=(0,s.A)(),g=(0,r.A)(a.breakpoints.down("sm")),x=new T,m=x.calculateProductionNeeds(n),p=(e,n)=>{let t=parseInt(n,10)||0;t>=0&&i(e,t)},A=e=>{let t=n[e]||0;i(e,t+1)},j=e=>{let t=n[e]||0;t>0&&i(e,t-1)};return(0,t.jsxs)(c.A,{className:"production-dashboard",children:[(0,t.jsxs)(c.A,{sx:{mb:2,display:"flex",justifyContent:"flex-end",gap:1},children:[(0,t.jsx)(u.A,{onClick:()=>{localStorage.setItem("bakery-plan-".concat(l),JSON.stringify({orders:n,plan:m,date:l})),alert("Produktionsplan gespeichert!")},color:"primary","aria-label":"Plan speichern",size:g?"small":"medium",children:(0,t.jsx)(Z.A,{})}),(0,t.jsx)(u.A,{onClick:()=>{window.print()},color:"secondary","aria-label":"Plan drucken",size:g?"small":"medium",children:(0,t.jsx)(K.A,{})})]}),(0,t.jsxs)(h.Ay,{container:!0,spacing:2,sx:{mb:3},children:[(0,t.jsx)(h.Ay,{item:!0,xs:6,children:(0,t.jsxs)(d.A,{sx:{p:2,textAlign:"center",bgcolor:"primary.main",color:"white"},children:[(0,t.jsx)(o.A,{variant:"h4",children:m.doughBatches}),(0,t.jsx)(o.A,{variant:"body2",children:"Teigchargen \xe0 40kg"})]})}),(0,t.jsx)(h.Ay,{item:!0,xs:6,children:(0,t.jsxs)(d.A,{sx:{p:2,textAlign:"center",bgcolor:"secondary.main",color:"white"},children:[(0,t.jsxs)(o.A,{variant:"h4",children:[(m.totalDoughWeight/1e3).toFixed(1)," kg"]}),(0,t.jsx)(o.A,{variant:"body2",children:"Gesamtgewicht"})]})})]}),(0,t.jsxs)(k.A,{defaultExpanded:!0,children:[(0,t.jsx)(y.A,{expandIcon:(0,t.jsx)(O.A,{}),children:(0,t.jsx)(o.A,{fontWeight:"bold",children:"Bestellmengen anpassen"})}),(0,t.jsx)(z.A,{children:(0,t.jsx)(h.Ay,{container:!0,spacing:1,children:Object.entries(x.recipes).map(e=>{let[i,l]=e;return(0,t.jsx)(h.Ay,{item:!0,xs:12,children:(0,t.jsxs)(d.A,{sx:{p:1.5,display:"flex",alignItems:"center"},children:[(0,t.jsxs)(c.A,{flexGrow:1,children:[(0,t.jsx)(o.A,{variant:"body1",children:i}),(0,t.jsxs)(o.A,{variant:"caption",color:"text.secondary",children:[l.doughPiece,l.filling&&" + ".concat(l.fillingAmount,"g ").concat(M(l.filling))]})]}),(0,t.jsxs)(c.A,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(u.A,{size:"small",onClick:()=>j(i),"aria-label":"".concat(i," verringern"),children:(0,t.jsx)(H.A,{fontSize:"small"})}),(0,t.jsx)(v.A,{value:n[i]||0,onChange:e=>p(i,e.target.value),inputProps:{min:0,style:{textAlign:"center",width:"40px",padding:"8px 4px"}},variant:"outlined",size:"small","aria-label":"".concat(i," Menge")}),(0,t.jsx)(u.A,{size:"small",onClick:()=>A(i),"aria-label":"".concat(i," erh\xf6hen"),children:(0,t.jsx)(F.A,{fontSize:"small"})})]})]})},i)})})})]}),(0,t.jsxs)(k.A,{defaultExpanded:!0,sx:{mt:2},children:[(0,t.jsx)(y.A,{expandIcon:(0,t.jsx)(O.A,{}),children:(0,t.jsx)(o.A,{fontWeight:"bold",children:"Hefeteigproduktion"})}),(0,t.jsx)(z.A,{children:(0,t.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(h.Ay,{item:!0,xs:12,children:(0,t.jsx)(P.A,{sx:{mb:2},children:(0,t.jsxs)(S.A,{children:[(0,t.jsxs)(o.A,{variant:"subtitle1",gutterBottom:!0,children:["Teigchargen (",m.doughBatches,"):"]}),Array(m.doughBatches).fill(0).map((e,n)=>(0,t.jsx)(w.A,{label:"Charge ".concat(n+1,": ").concat(n<m.doughBatches-1||m.totalDoughWeight%4e4==0?"40":(m.totalDoughWeight%4e4/1e3).toFixed(1)," kg"),sx:{m:.5},color:"primary",variant:"outlined"},n))]})})}),(0,t.jsx)(h.Ay,{item:!0,xs:12,children:(0,t.jsx)(P.A,{children:(0,t.jsxs)(S.A,{children:[(0,t.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,children:"Teigst\xfccke vorbereiten:"}),(0,t.jsx)(B.A,{size:"small",children:(0,t.jsx)(C.A,{children:Object.entries(m.doughPieces).map(e=>{let[n,i]=e,l=x.getDoughPieceDetails(n);return(0,t.jsxs)(G.A,{children:[(0,t.jsxs)(D.A,{sx:{py:1},children:[(0,t.jsx)(o.A,{variant:"body2",children:n}),l&&(0,t.jsxs)(o.A,{variant:"caption",color:"text.secondary",children:[l.weight,"g \xd7 ",l.count," Stk pro Produkt"]})]}),(0,t.jsx)(D.A,{align:"right",sx:{py:1},children:(0,t.jsx)(w.A,{label:"".concat(i," Teigst\xfccke"),size:"small",color:"secondary"})})]},n)})})})]})})})]})})]}),(0,t.jsxs)(k.A,{sx:{mt:2},children:[(0,t.jsxs)(y.A,{expandIcon:(0,t.jsx)(O.A,{}),children:[(0,t.jsx)(o.A,{fontWeight:"bold",children:"F\xfcllungen"}),Object.values(m.fillingBatches).some(e=>e>0)&&(0,t.jsx)(w.A,{size:"small",label:(Object.values(m.fillings).reduce((e,n)=>e+n,0)/1e3).toFixed(1)+" kg",color:"info",sx:{ml:1}})]}),(0,t.jsx)(z.A,{children:Object.entries(m.fillingBatches).some(e=>{let[n,i]=e;return i>0})?(0,t.jsx)(h.Ay,{container:!0,spacing:2,children:Object.entries(m.fillingBatches).map(e=>{let[n,i]=e;return i>0?(0,t.jsx)(h.Ay,{item:!0,xs:12,children:(0,t.jsxs)(d.A,{sx:{p:1.5},children:[(0,t.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:M(n)}),(0,t.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)(w.A,{label:"".concat(i," Charge").concat(i>1?"n":""," \xe0 15kg"),size:"small",color:"primary",variant:"outlined"}),(0,t.jsx)(w.A,{label:"".concat((m.fillings[n]/1e3).toFixed(1)," kg"),size:"small",color:"secondary"})]})]})},n):null})}):(0,t.jsx)(o.A,{variant:"body2",sx:{py:2,textAlign:"center"},children:"Keine F\xfcllungen f\xfcr diesen Produktionsplan ben\xf6tigt."})})]})]})};var Q=i(80158),R=i(76898),_=i(43388);let q=e=>{let{orders:n,date:i}=e,l=new T,s=l.calculateProductionNeeds(n);return(0,t.jsxs)(d.A,{sx:{p:3},className:"production-checklist",children:[(0,t.jsxs)(c.A,{textAlign:"center",mb:3,children:[(0,t.jsx)(o.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Produktions-Checkliste f\xfcr Samstag"}),(0,t.jsx)(o.A,{variant:"h6",component:"h2",children:new Date(i).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)(c.A,{mb:4,children:[(0,t.jsxs)(o.A,{variant:"h5",component:"h3",gutterBottom:!0,children:["1. Hefeteig Vorbereitung (",s.doughBatches," Chargen \xe0 40kg)"]}),(0,t.jsx)(Q.A,{sx:{mb:2}}),(0,t.jsx)(h.Ay,{container:!0,spacing:2,children:Array(s.doughBatches).fill(0).map((e,n)=>{let i=n===s.doughBatches-1&&s.totalDoughWeight%4e4!=0?(s.totalDoughWeight%4e4/1e3).toFixed(1):40;return(0,t.jsx)(h.Ay,{item:!0,xs:12,sm:6,children:(0,t.jsx)(R.A,{control:(0,t.jsx)(_.A,{}),label:"Hefeteig Charge ".concat(n+1," (").concat(i," kg)")})},"dough-".concat(n))})})]}),(0,t.jsxs)(c.A,{mb:4,children:[(0,t.jsx)(o.A,{variant:"h5",component:"h3",gutterBottom:!0,children:"2. Teigst\xfccke Abwiegen und Portionieren"}),(0,t.jsx)(Q.A,{sx:{mb:2}}),(0,t.jsx)(h.Ay,{container:!0,spacing:2,children:Object.entries(s.doughPieces).map(e=>{let[n,i]=e,s=l.getDoughPieceDetails(n);return(0,t.jsx)(h.Ay,{item:!0,xs:12,sm:6,children:(0,t.jsx)(R.A,{control:(0,t.jsx)(_.A,{}),label:"".concat(i," Teigst\xfccke: ").concat(n," (").concat((null==s?void 0:s.weight)||0,"g)")})},"pieces-".concat(n))})})]}),(0,t.jsxs)(c.A,{mb:4,children:[(0,t.jsx)(o.A,{variant:"h5",component:"h3",gutterBottom:!0,children:"3. F\xfcllungen Zubereiten"}),(0,t.jsx)(Q.A,{sx:{mb:2}}),Object.entries(s.fillingBatches).length>0?(0,t.jsx)(h.Ay,{container:!0,spacing:2,children:Object.entries(s.fillingBatches).map(e=>{let[n,i]=e;return i>0?(0,t.jsx)(h.Ay,{item:!0,xs:12,children:(0,t.jsx)(R.A,{control:(0,t.jsx)(_.A,{}),label:"".concat(M(n),": ").concat(i," Charge(n) \xe0 15kg (").concat((s.fillings[n]/1e3).toFixed(1)," kg gesamt)")})},"filling-".concat(n)):null})}):(0,t.jsx)(o.A,{children:"Keine F\xfcllungen f\xfcr diesen Produktionsplan ben\xf6tigt."})]}),(0,t.jsxs)(c.A,{mb:4,children:[(0,t.jsx)(o.A,{variant:"h5",component:"h3",gutterBottom:!0,children:"4. Endprodukte Herstellen"}),(0,t.jsx)(Q.A,{sx:{mb:2}}),(0,t.jsx)(h.Ay,{container:!0,spacing:2,children:Object.entries(n).map(e=>{let[n,i]=e;if(i>0){var s,r;return(0,t.jsxs)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,t.jsx)(R.A,{control:(0,t.jsx)(_.A,{}),label:"".concat(i,"\xd7 ").concat(n)}),(null==(s=l.recipes[n])?void 0:s.doughPiece)&&(0,t.jsxs)(o.A,{variant:"caption",display:"block",ml:4,mt:-.5,children:["aus ",(null==(r=l.getDoughPieceDetails(l.recipes[n].doughPiece))?void 0:r.count)||0," Teigst\xfccken geflochten"]})]},"product-".concat(n))}return null})})]})]})};var J=i(9520),L=i(95439),V=i(40463),U=i(34152);let X=e=>{let{productionPlan:n,orders:i,onOrderChange:s}=e,[r,a]=(0,l.useState)(null),[g,x]=(0,l.useState)(!1),m=Object.entries(n.fillingBatches).filter(e=>{let[n,i]=e;return i>0}).map(e=>{let[n,i]=e;return n}),p=(e,n)=>{let i=E(e);if(!i)return{};let t={},l=15e3*n/i.recipeBatchSize;return i.ingredients.forEach(e=>{t[e.name]={amount:Math.round(e.amount*l),unit:e.unit}}),t},A=e=>{a(e===r?null:e)},j=(e,n)=>{let t=Math.max(0,(i[e]||0)+n);s(e,t)},f=(e,n)=>"g"===n?e>=1e3?"".concat((e/1e3).toFixed(1)," kg"):"".concat(e," g"):"ml"===n?e>=1e3?"".concat((e/1e3).toFixed(1)," l"):"".concat(e," ml"):"".concat(e," ").concat(n);return(0,t.jsxs)(c.A,{className:"filling-preparation",children:[(0,t.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"F\xfcllungen f\xfcr Samstagsproduktion"}),0===m.length?(0,t.jsx)(d.A,{sx:{p:3,textAlign:"center"},children:(0,t.jsx)(o.A,{children:"Keine F\xfcllungen f\xfcr diesen Produktionsplan ben\xf6tigt."})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Ay,{container:!0,spacing:2,sx:{mb:3},children:m.map(e=>(0,t.jsx)(h.Ay,{item:!0,xs:12,children:(0,t.jsx)(d.A,{sx:{p:2,cursor:"pointer",border:r===e?"2px solid #1976d2":"none"},onClick:()=>A(e),children:(0,t.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)(c.A,{children:[(0,t.jsx)(o.A,{variant:"h6",children:M(e)}),(0,t.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:[n.fillingBatches[e]," Charge(n) \xe0 15kg (",(n.fillings[e]/1e3).toFixed(1)," ","kg gesamt)"]})]}),(0,t.jsx)(w.A,{label:r===e?"Ausgew\xe4hlt":"Details",color:r===e?"primary":"default",size:"small"})]})})},e))}),r&&(0,t.jsx)(P.A,{sx:{mb:3},children:(0,t.jsxs)(S.A,{children:[(0,t.jsxs)(o.A,{variant:"subtitle1",gutterBottom:!0,children:[M(r)," - Zutaten (15kg pro Charge)"]}),(0,t.jsx)(R.A,{control:(0,t.jsx)(J.A,{checked:g,onChange:e=>x(e.target.checked),size:"small"}),label:"Alle F\xfcllungen anzeigen"}),(0,t.jsx)(Q.A,{sx:{my:2}}),(0,t.jsx)(B.A,{size:"small",children:(0,t.jsx)(C.A,{children:Object.entries(p(r,n.fillingBatches[r])).map(e=>{let[n,i]=e;return(0,t.jsxs)(G.A,{children:[(0,t.jsx)(D.A,{children:n}),(0,t.jsx)(D.A,{align:"right",children:f(i.amount,i.unit)})]},n)})})}),g&&(0,t.jsxs)(c.A,{sx:{mt:3},children:[(0,t.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"Alle F\xfcllungen kombiniert:"}),(0,t.jsx)(B.A,{size:"small",children:(0,t.jsx)(C.A,{children:Object.entries(m.reduce((e,i)=>(Object.entries(p(i,n.fillingBatches[i])).forEach(n=>{let[i,t]=n;e[i]?e[i].unit===t.unit&&(e[i].amount+=t.amount):e[i]={...t}}),e),{})).map(e=>{let[n,i]=e;return(0,t.jsxs)(G.A,{children:[(0,t.jsx)(D.A,{children:n}),(0,t.jsx)(D.A,{align:"right",children:f(i.amount,i.unit)})]},n)})})})]}),(0,t.jsx)(Q.A,{sx:{my:2}}),(0,t.jsx)(o.A,{variant:"subtitle2",gutterBottom:!0,children:"Produkte mit dieser F\xfcllung:"}),(0,t.jsx)(L.A,{disablePadding:!0,children:(!n.calculator?[]:n.calculator.getProductsWithFilling(r)).map(e=>(0,t.jsx)(V.Ay,{disablePadding:!0,sx:{mb:1},children:(0,t.jsxs)(d.A,{sx:{p:1,width:"100%",display:"flex",alignItems:"center"},children:[(0,t.jsx)(U.A,{primary:e,secondary:"Aktuell: ".concat(i[e]||0," Stk"),primaryTypographyProps:{variant:"body2"},secondaryTypographyProps:{variant:"caption"}}),(0,t.jsxs)(c.A,{children:[(0,t.jsx)(u.A,{size:"small",onClick:()=>j(e,-1),disabled:0>=(i[e]||0),children:(0,t.jsx)(H.A,{fontSize:"small"})}),(0,t.jsx)(u.A,{size:"small",onClick:()=>j(e,1),children:(0,t.jsx)(F.A,{fontSize:"small"})})]})]})},e))})]})})]})]})},Y={"Hefezopf Plain":12,"Hefekranz Nuss":6,"Hefekranz Schoko":8,"Hefekranz Pudding":3,"Hefekranz Marzipan":2,"Hefekranz Quark":1,"Mini Hefezopf":15,"Gef\xfcllter Zopf Nuss":10,"Gef\xfcllter Zopf Schoko":8,"Gef\xfcllter Zopf Marzipan":5,Rosinenbrot:5,"Streuselkuchen Klein":3,"Streuselkuchen Gro\xdf":2};function $(){let e=(0,s.A)(),n=(0,r.A)(e.breakpoints.down("sm")),[i,k]=(0,l.useState)(0),[y,z]=(0,l.useState)(0),[v,P]=(0,l.useState)([]),[S,w]=(0,l.useState)(Y),[B,C]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=[],n=new Date,i=n.getDay(),t=new Date(n);t.setDate(n.getDate()+((6-i+7)%7||7));for(let n=0;n<8;n++){let i=new Date(t);i.setDate(t.getDate()+7*n);let l=i.toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),s=i.toISOString().split("T")[0];e.push({date:i,display:l,dateStr:s})}P(e)},[]),(0,l.useEffect)(()=>{C(new T().calculateProductionNeeds(S))},[S]),(0,l.useEffect)(()=>{if(!v[y])return;let e=localStorage.getItem("bakery-plan-".concat(v[y].dateStr));if(e)try{let{orders:n}=JSON.parse(e);n&&w(n)}catch(e){console.error("Failed to load saved plan:",e)}},[y,v]);let G=(e,n)=>{w({...S,[e]:n})},D=v[y],F=(null==D?void 0:D.dateStr)||"",H=(null==D?void 0:D.display)||"";return(0,t.jsxs)(a.A,{maxWidth:"xl",sx:{py:2,px:{xs:1,sm:2}},children:[(0,t.jsx)(c.A,{sx:{mb:2},children:(0,t.jsx)(o.A,{variant:"h5",component:"h1",fontWeight:"bold",children:"Samstag Spezialproduktion"})}),(0,t.jsx)(d.A,{sx:{p:2,mb:3},children:(0,t.jsxs)(h.Ay,{container:!0,alignItems:"center",spacing:1,children:[(0,t.jsx)(h.Ay,{item:!0,xs:2,children:(0,t.jsx)(u.A,{onClick:()=>{y>0&&z(y-1)},disabled:0===y,"aria-label":"Vorheriger Samstag",children:(0,t.jsx)(m.A,{})})}),(0,t.jsx)(h.Ay,{item:!0,xs:8,children:(0,t.jsxs)(c.A,{textAlign:"center",children:[(0,t.jsxs)(o.A,{variant:"subtitle2",color:"text.secondary",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,t.jsx)(A.A,{fontSize:"small",sx:{mr:.5}}),"Produktionstag"]}),(0,t.jsx)(o.A,{variant:"h6",fontWeight:"bold",noWrap:!0,children:H})]})}),(0,t.jsx)(h.Ay,{item:!0,xs:2,sx:{textAlign:"right"},children:(0,t.jsx)(u.A,{onClick:()=>{y<v.length-1&&z(y+1)},disabled:y===v.length-1,"aria-label":"N\xe4chster Samstag",children:(0,t.jsx)(p.A,{})})})]})}),(0,t.jsx)(c.A,{sx:{mb:2},children:(0,t.jsxs)(g.A,{value:i,onChange:(e,n)=>{k(n)},variant:"fullWidth","aria-label":"Produktionsplan Tabs",children:[(0,t.jsx)(x.A,{icon:n?(0,t.jsx)(b.A,{}):void 0,label:n?void 0:"Produktion",iconPosition:"top","aria-label":"Produktionsplan"}),(0,t.jsx)(x.A,{icon:n?(0,t.jsx)(f.A,{}):void 0,label:n?void 0:"F\xfcllungen",iconPosition:"top","aria-label":"F\xfcllungszubereitung"}),(0,t.jsx)(x.A,{icon:n?(0,t.jsx)(j.A,{}):void 0,label:n?void 0:"Checkliste",iconPosition:"top","aria-label":"Checkliste"})]})}),(0,t.jsxs)(c.A,{children:[0===i&&(0,t.jsx)(I,{orders:S,onOrderChange:G,date:F}),1===i&&B&&(0,t.jsx)(X,{productionPlan:B,orders:S,onOrderChange:G}),2===i&&(0,t.jsx)(q,{orders:S,date:F})]})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[8460,9670,7009,752,4756,413,2502,1580,5183,9152,6396,6277,457,5320,9520,3792,9100,8441,1684,7358],()=>n(32658)),_N_E=e.O()}]);