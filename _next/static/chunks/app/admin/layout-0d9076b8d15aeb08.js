(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{10444:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>en});var t=a(95155),n=a(12115),i=a(91767),s=a(83745),o=a(16150),l=a(84256),d=a(36054),c=a(9670),h=a(53687),x=a(56278),m=a(3737),p=a(44146),u=a(26096),g=a(51877),b=a(91580),f=a(16537),A=a(95183),j=a(80158),k=a(50095),y=a(55592),v=a(34152),S=a(55857),w=a(72131),F=a(95439),M=a(40463),P=a(73746),B=a(37049),C=a(35695),E=a(41203),z=a(2560),I=a(41748),D=a(59718),W=a(49929),R=a(43383),V=a(75785),_=a(30782),N=a(78435),O=a(26877),G=a(13106),L=a(47691),T=a(20772),H=a(61855),Q=a(81788),K=a(17923),U=a(47110),X=a(9825),q=a(66766);a(24978);var J=a(89521),Y=a(78904);let Z=e=>{let{tooltip:r=!0}=e,{mode:a,toggleTheme:n}=(0,B.D)(),i=(0,C.usePathname)();if(!(null==i?void 0:i.startsWith("/admin")))return null;let s="dark"===a?(0,t.jsx)(Y.A,{}):(0,t.jsx)(J.A,{}),o=(0,t.jsx)(p.A,{onClick:n,color:"inherit","aria-label":"toggle light/dark theme",size:"medium",children:s});return r?(0,t.jsx)(u.A,{title:"dark"===a?"Switch to Light Mode":"Switch to Dark Mode",arrow:!0,children:o}):o},$={name:"Max M\xfcller",role:"Production",avatar:null},ee=e=>{let{children:r}=e,a=(0,P.A)(),{mode:i}=(0,B.D)(),s=(0,d.A)(a.breakpoints.down("md")),l=(0,C.useRouter)(),J=(0,C.usePathname)(),Y=null==J?void 0:J.startsWith("/admin"),ee=Y?i:"light",[er,ea]=(0,n.useState)(!s),[et,en]=(0,n.useState)(null),[ei,es]=(0,n.useState)(!0),[eo,el]=(0,n.useState)("B\xe4ckerei-Management");(0,n.useEffect)(()=>{J&&(J.includes("/admin/production/processes")?el("Backstube: Produktionsprozesse"):J.includes("/admin/production/orders")?el("Backstube: Bestelllisten"):J.includes("/admin/bakery/intern-orders")?el("Backstube: Internbestellungen"):J.includes("/admin/orders")?el("Verkaufsbereich: Bestellungen"):J.includes("/admin/dashboard/sales")?el("Verkaufsbereich: Statistik"):J.includes("/admin/dashboard/production")?el("Backstube: Statistik"):J.includes("/admin/dashboard/management")?el("Verwaltung: Kennzahlen"):el("B\xe4ckerei-Management"))},[J]),(0,n.useEffect)(()=>{ei||l.push("/login")},[ei,l]);let ed=()=>{en(null)},ec=[{section:"Hauptnavigation",items:[{name:"Start",icon:(0,t.jsx)(z.A,{}),path:"/admin",roles:["Management","Production","Sales"]},{name:"Dashboard",icon:(0,t.jsx)(z.A,{}),path:"/admin/dashboard",roles:["Management","Production","Sales"]},{name:"Produkte",icon:(0,t.jsx)(z.A,{}),path:"/admin/products",roles:["Management","Production","Sales"]},{name:"Social Media",icon:(0,t.jsx)(X.A,{}),path:"/admin/social-media",roles:["Management","Production","Sales"]}]},{section:"Backstube",items:[{name:"Produktionsprozesse",icon:(0,t.jsx)(O.A,{}),path:"/admin/bakery/processes",roles:["Management","Production"]},{name:"Rezepte",icon:(0,t.jsx)(G.A,{}),path:"/admin/bakery/recipes",roles:["Management","Production"]},{name:"Bestelllisten",icon:(0,t.jsx)(W.A,{}),path:"/admin/orders",roles:["Management","Production"]},{name:"Internbestellungen",icon:(0,t.jsx)(L.A,{}),path:"/admin/bakery/intern-orders",roles:["Management","Production","Sales"]},{name:"Samstag Spezialproduktion",icon:(0,t.jsx)(O.A,{}),path:"/admin/bakery/saturday-production",roles:["Management","Production"]}]},{section:"Verkaufsbereich",items:[{name:"Bestellungen",icon:(0,t.jsx)(D.default,{}),path:"/admin/orders",roles:["Management","Sales"]},{name:"Produkte",icon:(0,t.jsx)(I.A,{}),path:"/admin/products",roles:["Management","Sales"]},{name:"Verkaufsstatistik",icon:(0,t.jsx)(N.A,{}),path:"/admin/dashboard/sales",roles:["Management","Sales"]}]},{section:"Verwaltung",items:[{name:"Mitarbeiter",icon:(0,t.jsx)(R.A,{}),path:"/admin/staff",roles:["Management"]},{name:"Einstellungen",icon:(0,t.jsx)(V.A,{}),path:"/admin/settings",roles:["Management"]}]}].map(e=>({...e,items:e.items.filter(e=>e.roles.includes($.role))})).filter(e=>e.items.length>0),[eh,ex]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{localStorage.getItem("token")||eh||es(!1),ex(!0)},[eh]),ei)?(0,t.jsxs)(o.A,{sx:{display:"flex",minHeight:"100vh"},children:[(0,t.jsx)(h.A,{position:"fixed",color:"dark"===ee?"inherit":"primary",sx:{zIndex:a.zIndex.drawer+1,backgroundColor:"dark"===ee?(0,x.X4)(a.palette.background.paper,.9):a.palette.primary.main,backdropFilter:"blur(8px)",color:"dark"===ee?"text.primary":"#fff",boxShadow:"dark"===ee?"0 1px 8px rgba(0,0,0,0.15)":"0 3px 10px rgba(0,0,0,0.2)"},children:(0,t.jsxs)(m.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(p.A,{color:"inherit","aria-label":"toggle menu",onClick:()=>ea(!er),edge:"start",sx:{mr:1},children:er&&s?(0,t.jsx)(T.A,{}):(0,t.jsx)(E.A,{})}),(0,t.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(o.A,{sx:{display:"flex",alignItems:"center",mr:1,bgcolor:"dark"===ee?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.2)",borderRadius:"50%",width:38,height:38,justifyContent:"center"},children:(0,t.jsx)(q.default,{src:"/admin/admin-logo.svg",width:24,height:24,alt:"Admin Logo",style:{filter:"brightness(0) invert(1)"}})}),(0,t.jsxs)(o.A,{children:[(0,t.jsx)(c.A,{variant:"h6",component:"span",sx:{fontWeight:"bold",letterSpacing:"0.5px"},children:"Admin"}),(0,t.jsx)(c.A,{variant:"caption",component:"div",sx:{opacity:.85,fontWeight:500,fontSize:"0.75rem",letterSpacing:"0.5px",mt:-.5,display:{xs:"none",sm:"block"}},children:"B\xe4ckerei-Verwaltung"})]})]})]}),(0,t.jsx)(o.A,{sx:{flexGrow:1,textAlign:"center",px:2,display:{xs:"none",md:"block"}},children:(0,t.jsx)(c.A,{variant:"h6",component:"div",sx:{fontWeight:600,opacity:.95,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:eo})}),(0,t.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(u.A,{title:"Hilfe",children:(0,t.jsx)(p.A,{color:"inherit",size:"small",sx:{ml:1},children:(0,t.jsx)(K.A,{})})}),(0,t.jsx)(u.A,{title:"Benachrichtigungen",children:(0,t.jsx)(p.A,{color:"inherit",size:"small",sx:{ml:1},children:(0,t.jsx)(g.A,{badgeContent:3,color:"error",children:(0,t.jsx)(Q.A,{})})})}),Y&&(0,t.jsx)(o.A,{sx:{ml:1},children:(0,t.jsx)(Z,{})}),(0,t.jsx)(b.A,{avatar:$.avatar?(0,t.jsx)(f.A,{src:$.avatar,sx:{bgcolor:"primary.light",color:"#fff",boxShadow:"dark"===ee?"0 0 0 2px rgba(255,255,255,0.1)":"none"}}):(0,t.jsx)(f.A,{sx:{bgcolor:"primary.light",color:"#fff",boxShadow:"dark"===ee?"0 0 0 2px rgba(255,255,255,0.1)":"none"},children:$.name.charAt(0)}),label:(0,t.jsxs)(o.A,{sx:{display:{xs:"none",sm:"block"}},children:[(0,t.jsx)(c.A,{variant:"body2",component:"span",sx:{fontWeight:500},children:$.name}),(0,t.jsx)(c.A,{variant:"caption",component:"span",sx:{display:"block",opacity:.85},children:(()=>{switch($.role){case"Management":return"Gesch\xe4ftsf\xfchrung";case"Production":return"B\xe4ckermeister";case"Sales":return"Verkauf";default:return $.role}})()})]}),onClick:e=>en(e.currentTarget),sx:{height:"auto",pl:.5,pr:{xs:.5,sm:1.5},py:.75,ml:1.5,borderRadius:2,cursor:"pointer",bgcolor:"transparent",border:"1px solid",borderColor:"dark"===ee?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.3)","&:hover":{bgcolor:"dark"===ee?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.15)"},"& .MuiChip-label":{px:1,color:"dark"===ee?"text.primary":"#fff"}}})]}),(0,t.jsxs)(A.A,{anchorEl:et,open:!!et,onClose:ed,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},elevation:6,PaperProps:{sx:{minWidth:200,borderRadius:2,boxShadow:"dark"===ee?"0 4px 20px rgba(0,0,0,0.4)":"0 4px 20px rgba(0,0,0,0.15)"}},children:[(0,t.jsxs)(o.A,{sx:{px:2,py:1.5},children:[(0,t.jsx)(c.A,{variant:"subtitle1",sx:{fontWeight:600},children:$.name}),(0,t.jsx)(c.A,{variant:"body2",color:"text.secondary",children:"Management"===$.role?"Gesch\xe4ftsf\xfchrung":"Production"===$.role?"B\xe4ckermeister":"Verkauf"})]}),(0,t.jsx)(j.A,{}),(0,t.jsxs)(k.A,{onClick:()=>{ed(),l.push("/admin/profile")},sx:{py:1.5},children:[(0,t.jsx)(y.A,{children:(0,t.jsx)(H.A,{fontSize:"small"})}),(0,t.jsx)(v.A,{children:"Mein Profil"})]}),(0,t.jsxs)(k.A,{onClick:()=>{ed(),l.push("/admin/security")},sx:{py:1.5},children:[(0,t.jsx)(y.A,{children:(0,t.jsx)(U.A,{fontSize:"small"})}),(0,t.jsx)(v.A,{children:"Sicherheitseinstellungen"})]}),(0,t.jsx)(j.A,{}),(0,t.jsx)(o.A,{sx:{px:2,py:1,display:"flex",justifyContent:"center"},children:(0,t.jsx)(S.A,{variant:"outlined",color:"primary",fullWidth:!0,startIcon:(0,t.jsx)(_.A,{}),onClick:()=>{ed(),localStorage.removeItem("token"),es(!1)},sx:{borderRadius:2},children:"Abmelden"})})]})]})}),(0,t.jsxs)(w.Ay,{variant:s?"temporary":"persistent",open:er,onClose:()=>ea(!1),sx:{width:280,flexShrink:0,"& .MuiDrawer-paper":{width:280,boxSizing:"border-box",borderRight:"dark"===ee?"1px solid rgba(255, 255, 255, 0.05)":"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"dark"===ee?"none":"2px 0 8px rgba(0,0,0,0.02)",bgcolor:"dark"===ee?"background.paper":"white"}},children:[(0,t.jsx)(m.A,{}),(0,t.jsx)(o.A,{sx:{overflow:"auto",pt:2},children:ec.map((e,r)=>(0,t.jsxs)(n.Fragment,{children:[r>0&&(0,t.jsx)(j.A,{sx:{my:2}}),(0,t.jsx)(c.A,{variant:"overline",color:"text.secondary",sx:{px:3,py:1,display:"block",fontWeight:600,letterSpacing:"1px",fontSize:"0.7rem"},children:e.section}),(0,t.jsx)(F.A,{children:e.items.map(e=>(0,t.jsxs)(M.Ay,{button:!0,onClick:()=>{l.push(e.path),s&&ea(!1)},sx:{borderRadius:"8px",mx:1,my:.3,color:J===e.path?"#fff":"text.primary",bgcolor:J===e.path?"dark"===ee?"primary.dark":"primary.main":"transparent","&:hover":{bgcolor:J===e.path?"dark"===ee?"primary.dark":"primary.main":"dark"===ee?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.04)"},transition:"all 0.2s"},children:[(0,t.jsx)(y.A,{sx:{color:J===e.path?"#fff":"inherit",minWidth:"42px"},children:e.icon}),(0,t.jsx)(v.A,{primary:e.name})]},e.name))})]},e.section))})]}),(0,t.jsx)(o.A,{component:"main",sx:{flexGrow:1,width:{sm:"calc(100% - ".concat(280*!!er,"px)")},mt:"64px",p:{xs:2,sm:3},transition:a.transitions.create(["width","margin"],{easing:a.transitions.easing.sharp,duration:a.transitions.duration.leavingScreen}),bgcolor:"dark"===ee?"background.default":"transparent"},children:r})]}):null};var er=a(98850);let ea=new i.QueryClient;function et(e){let{children:r}=e,{mode:a}=(0,B.D)(),n="dark"===a?er.a5:er._k;return(0,t.jsx)(s.A,{theme:n,children:(0,t.jsx)(ee,{children:(0,t.jsx)(o.A,{sx:{mb:4},children:(0,t.jsx)(l.A,{elevation:"dark"===a?1:2,sx:{p:{xs:2,sm:3},borderRadius:2,bgcolor:"dark"===a?"background.paper":"white"},children:r})})})})}function en(e){let{children:r}=e;return(0,t.jsx)(B.N,{children:(0,t.jsx)(i.QueryClientProvider,{client:ea,children:(0,t.jsx)(et,{children:r})})})}},24978:()=>{},37049:(e,r,a)=>{"use strict";a.d(r,{D:()=>o,N:()=>s});var t=a(95155),n=a(12115);let i=(0,n.createContext)(void 0),s=e=>{let{children:r}=e,[a,s]=(0,n.useState)("light");return(0,n.useEffect)(()=>{{let e=localStorage.getItem("themeMode");("light"===e||"dark"===e)&&s(e)}},[]),(0,t.jsx)(i.Provider,{value:{mode:a,toggleTheme:()=>{let e="light"===a?"dark":"light";s(e),localStorage.setItem("themeMode",e)},setMode:e=>{s(e),localStorage.setItem("themeMode",e)}},children:r})},o=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}},45128:(e,r,a)=>{Promise.resolve().then(a.bind(a,10444))},98850:(e,r,a)=>{"use strict";a.d(r,{_k:()=>o,a5:()=>l});var t=a(81663);let n={fontFamily:"Averia Serif Libre"},i={fontFamily:"Averia Serif Libre"},s=e=>({palette:{mode:e,primary:{main:"#D038BA"},success:{main:"#1ADA67"},grey:{50:"#F6F8FC",100:"#F2F5FB",200:"#E8EEFB",300:"#D8E1F4",400:"#B0BFD9",500:"#909FBE",600:"#677695",700:"#485776",800:"#293858",900:"#131F37"},background:"light"===e?{paper:"#FFFFFF",default:"#F6F8FC"}:{paper:"#1E1E1E",default:"#121212"},text:"light"===e?{primary:"#131F37",secondary:"#485776",disabled:"#909FBE"}:{primary:"#FFFFFF",secondary:"#B0BFD9",disabled:"#677695"}},typography:{fontFamily:"'Ubuntu', sans-serif",h1:{...n},h2:{...n},h3:{...n},h4:{...n},h5:{...n},h6:{...n},button:{...i}}}),o=(0,t.A)(s("light")),l=(0,t.A)(s("dark"))}},e=>{var r=r=>e(e.s=r);e.O(0,[1091,8460,9670,752,4756,413,2502,1580,5183,6565,457,688,1597,5963,1767,1877,2296,8441,1684,7358],()=>r(45128)),_N_E=e.O()}]);