(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{2404:(e,t,s)=>{Promise.resolve().then(s.bind(s,44879))},16406:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(95155),l=s(16150),r=s(3998);let i=e=>{let{children:t}=e;return(0,a.jsxs)(l.A,{sx:{background:"radial-gradient(143.25% 143.25% at 50% 100%, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%), #D8E1F4"},children:[(0,a.jsx)(r.Y,{}),(0,a.jsx)(l.A,{sx:{minHeight:"calc(100vh - 332px)"},children:t})]})}},33461:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(95155),l=s(55857);s(12115);let r=e=>{let{children:t,...s}=e;return(0,a.jsx)(l.A,{variant:"contained",...s,children:t})}},44879:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(95155),l=s(12115),r=s(15892),i=s(89915),n=s(16150),o=s(90746),d=s(84256),c=s(83339),h=s(9670),x=s(35695),u=s(97227),g=s(16406),C=s(33461),m=s(61876);let p=()=>{let e=(0,x.useRouter)(),[t,s]=(0,l.useState)(!0),[p,f]=(0,l.useState)(""),[j,v]=(0,l.useState)(""),[A,L]=(0,l.useState)([]),[y,b]=(0,l.useState)(""),[w,F]=(0,l.useState)("");(0,l.useEffect)(()=>{if(!localStorage.getItem("token")){e.push("/login");return}S();try{b("Logged In User")}catch(e){console.error("Error getting username",e)}s(!1)},[e]);let S=async()=>{try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:5000/chat",{headers:{Authorization:e||""}});if(!t.ok){if(403===t.status){E();return}throw Error("Failed to fetch messages")}let s=await t.json();L(s)}catch(e){F("Failed to load messages: "+e.message)}},k=async()=>{if(!p||isNaN(Number(p))){F("Please enter a valid amount");return}try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:5000/cash",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e||""},body:JSON.stringify({amount:Number(p)})});if(!t.ok){if(403===t.status){E();return}throw Error("Failed to save cash entry")}f(""),alert("Cash entry saved successfully!")}catch(e){F("Failed to save cash entry: "+e.message)}},B=async()=>{if(j.trim())try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:5000/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:e||""},body:JSON.stringify({message:j})});if(!t.ok){if(403===t.status){E();return}throw Error("Failed to send message")}v(""),S()}catch(e){F("Failed to send message: "+e.message)}},E=()=>{localStorage.removeItem("token"),e.push("/login")};return t?(0,a.jsx)(g.default,{children:(0,a.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},children:(0,a.jsx)(i.A,{})})}):(0,a.jsxs)(g.default,{children:[(0,a.jsx)(u.A,{title:"Dashboard - Welcome ".concat(y)}),(0,a.jsxs)(r.A,{children:[w&&(0,a.jsxs)(n.A,{sx:{bgcolor:"error.main",color:"white",p:2,mb:2,borderRadius:1},children:[w,(0,a.jsx)(C.A,{onClick:()=>F(""),style:{marginLeft:"10px",background:"white",color:"red",padding:"0 10px"},children:"Clear"})]}),(0,a.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,a.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,a.jsx)(d.A,{children:(0,a.jsxs)(c.A,{children:[(0,a.jsx)(h.A,{variant:"h6",gutterBottom:!0,children:"Daily Cash Entry"}),(0,a.jsx)(m.A,{name:"cashAmount",placeholder:"Enter amount",label:"Cash Amount",type:"number",value:p,onChange:e=>f(e.target.value)}),(0,a.jsx)(C.A,{onClick:k,children:"Save Cash Entry"})]})})}),(0,a.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,a.jsx)(d.A,{children:(0,a.jsxs)(c.A,{children:[(0,a.jsx)(h.A,{variant:"h6",gutterBottom:!0,children:"Team Chat"}),(0,a.jsx)(n.A,{sx:{height:"200px",overflowY:"auto",border:"1px solid #eee",p:2,mb:2,borderRadius:1,bgcolor:"#f9f9f9"},children:0===A.length?(0,a.jsx)(h.A,{color:"textSecondary",align:"center",children:"No messages yet"}):A.map(e=>(0,a.jsxs)(n.A,{sx:{mb:1,p:1,bgcolor:"white",borderRadius:1},children:[(0,a.jsxs)(h.A,{variant:"body2",sx:{fontWeight:"bold"},children:["User #",e.user_id]}),(0,a.jsx)(h.A,{variant:"body1",children:e.message}),(0,a.jsx)(h.A,{variant:"caption",color:"textSecondary",children:new Date(e.timestamp).toLocaleString()})]},e.id))}),(0,a.jsx)(m.A,{name:"chatMessage",placeholder:"Type a message",value:j,onChange:e=>v(e.target.value)}),(0,a.jsx)(C.A,{onClick:B,children:"Send Message"})]})})}),(0,a.jsx)(o.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",mt:2},children:(0,a.jsx)(C.A,{onClick:E,style:{backgroundColor:"#f44336"},children:"Logout"})})]})]})]})}},61876:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(95155);s(12115);var l=s(73831);let r=e=>(0,a.jsx)(l.A,{...e,variant:"filled",fullWidth:!0,sx:{mb:2,boxShadow:1,overflow:"hidden",borderRadius:"8px","& .MuiFilledInput-root":{bgcolor:"white"},"& svg":{mr:"6px",mt:"14px"},"& .MuiInputBase-multiline":{alignItems:"flex-start","& svg":{mt:"2px"}}}})},97227:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(95155),l=s(16150),r=s(15892),i=s(9670);s(12115);let n=()=>(0,a.jsxs)("svg",{width:"520",height:"36",viewBox:"0 0 520 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M504.134 6.86379C500.302 6.91449 496.439 11.7267 494.976 14.3911C494.734 14.9349 495.129 15.5486 495.724 15.5526L507.303 15.6309C507.551 15.6326 507.791 15.5418 507.976 15.3764L515.911 8.28058C516.587 7.67628 516.174 6.56188 515.267 6.55568C509.863 6.51869 507.292 6.822 504.134 6.86379Z",fill:"#B0BFD9"}),(0,a.jsx)("path",{d:"M504.134 28.2231C500.302 28.1724 496.439 23.3602 494.976 20.6958C494.734 20.152 495.129 19.5384 495.724 19.5343L507.303 19.456C507.551 19.4543 507.791 19.5451 507.976 19.7106L515.911 26.8063C516.587 27.4106 516.174 28.525 515.267 28.5312C509.863 28.5682 507.292 28.2649 504.134 28.2231Z",fill:"#B0BFD9"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M509.516 16.7948C509.126 17.1853 509.126 17.8185 509.516 18.209L513.759 22.4517C514.149 22.8422 514.782 22.8422 515.173 22.4517L519.416 18.209C519.806 17.8185 519.806 17.1853 519.416 16.7948L515.173 12.5522C514.782 12.1616 514.149 12.1616 513.759 12.5522L509.516 16.7948ZM512.33 16.7948C511.939 17.1853 511.939 17.8185 512.33 18.209L513.758 19.638C514.149 20.0285 514.782 20.0285 515.173 19.638L516.602 18.209C516.992 17.8185 516.992 17.1853 516.602 16.7948L515.173 15.3659C514.782 14.9754 514.149 14.9754 513.758 15.3659L512.33 16.7948Z",fill:"#909FBE"}),(0,a.jsx)("path",{d:"M15.2178 28.2231C19.0494 28.1724 22.9121 23.3602 24.3757 20.6958C24.618 20.152 24.2226 19.5384 23.6273 19.5343L12.0489 19.456C11.8007 19.4543 11.5606 19.5451 11.3756 19.7106L3.4405 26.8063C2.76472 27.4106 3.17782 28.525 4.08437 28.5312C9.4884 28.5682 12.0596 28.2649 15.2178 28.2231Z",fill:"#B0BFD9"}),(0,a.jsx)("path",{d:"M15.2178 6.86379C19.0494 6.91449 22.9122 11.7267 24.3757 14.3911C24.618 14.9349 24.2226 15.5486 23.6273 15.5526L12.0489 15.6309C11.8007 15.6326 11.5607 15.5418 11.3756 15.3764L3.4405 8.28058C2.76472 7.67628 3.17783 6.56188 4.08437 6.55568C9.4884 6.51869 12.0596 6.822 15.2178 6.86379Z",fill:"#B0BFD9"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M266.646 18.002L354.739 18.002L507.739 18.002C508.015 18.002 508.239 17.7781 508.239 17.502C508.239 17.2258 508.015 17.002 507.739 17.002L354.745 17.002L354.739 17.002L266.646 17.002C266.824 17.3104 266.824 17.6936 266.646 18.002ZM253.224 17.002L12.7393 17.002V18.002L253.224 18.002C253.045 17.6936 253.045 17.3104 253.224 17.002Z",fill:"#909FBE"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M254.985 16.7948C254.595 17.1853 254.595 17.8185 254.985 18.209L259.228 22.4517C259.618 22.8422 260.252 22.8422 260.642 22.4517L264.885 18.209C265.275 17.8185 265.275 17.1853 264.885 16.7948L260.642 12.5522C260.252 12.1616 259.618 12.1616 259.228 12.5522L254.985 16.7948ZM257.799 16.7948C257.408 17.1853 257.408 17.8185 257.799 18.209L259.228 19.638C259.618 20.0285 260.251 20.0285 260.642 19.638L262.071 18.209C262.461 17.8185 262.461 17.1853 262.071 16.7948L260.642 15.3659C260.251 14.9754 259.618 14.9754 259.228 15.3659L257.799 16.7948Z",fill:"#909FBE"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.584397 16.7948C0.193873 17.1853 0.193873 17.8185 0.584397 18.209L4.82704 22.4517C5.21756 22.8422 5.85073 22.8422 6.24125 22.4517L10.4839 18.209C10.8744 17.8185 10.8744 17.1853 10.4839 16.7948L6.24125 12.5522C5.85073 12.1616 5.21756 12.1616 4.82704 12.5522L0.584397 16.7948ZM3.39787 16.7948C3.00735 17.1853 3.00735 17.8185 3.39787 18.209L4.82681 19.638C5.21733 20.0285 5.8505 20.0285 6.24102 19.638L7.66995 18.209C8.06048 17.8185 8.06048 17.1853 7.66995 16.7948L6.24102 15.3659C5.85049 14.9754 5.21733 14.9754 4.82681 15.3659L3.39787 16.7948Z",fill:"#909FBE"})]}),o=e=>{let{title:t}=e;return(0,a.jsx)(l.A,{sx:{pt:{xs:"120px",md:"160px"},pb:3},children:(0,a.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center","& svg":{maxWidth:"80vw"}},children:[(0,a.jsx)(i.A,{variant:"h3",textAlign:"center",sx:{fontSize:{xs:"8vw",md:"3rem"}},children:t}),(0,a.jsx)(n,{})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[732,440,752,874,746,502,831,839,998,441,684,358],()=>t(2404)),_N_E=e.O()}]);