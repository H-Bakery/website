(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9338],{19338:(e,t,r)=>{"use strict";r.d(t,{A:()=>O});var a=r(95155),s=r(12115),n=r(36054),i=r(16150),o=r(9670),l=r(53687),c=r(3737),d=r(44146),h=r(91580),x=r(16537),m=r(95183),u=r(50095),p=r(55592),g=r(34152),A=r(80158),j=r(72131),b=r(95439),k=r(14995),f=r(73746),S=r(37049),v=r(35695),w=r(41203),M=r(2560),y=r(41748),C=r(59718),P=r(49929),z=r(43383),B=r(75785),E=r(30782),I=r(78435),V=r(26877),D=r(20772),R=r(61855);r(24978);var T=r(50514),_=r(89521),G=r(78904);let N=e=>{let{tooltip:t=!0}=e,{mode:r,toggleTheme:s}=(0,S.D)(),n="dark"===r?(0,a.jsx)(G.A,{}):(0,a.jsx)(_.A,{}),i=(0,a.jsx)(d.A,{onClick:s,color:"inherit","aria-label":"toggle light/dark theme",size:"medium",children:n});return t?(0,a.jsx)(T.A,{title:"dark"===r?"Switch to Light Mode":"Switch to Dark Mode",arrow:!0,children:i}):i},H={name:"Max M\xfcller",role:"Production",avatar:null},O=e=>{let{children:t}=e,r=(0,f.A)(),{mode:T}=(0,S.D)(),_=(0,n.A)(r.breakpoints.down("md")),G=(0,v.useRouter)(),O=(0,v.usePathname)(),[F,K]=(0,s.useState)(!_),[L,W]=(0,s.useState)(null),[q,J]=(0,s.useState)(!0),[Q,U]=(0,s.useState)("B\xe4ckerei-Management");(0,s.useEffect)(()=>{O&&(O.includes("/bakery/processes")?U("Backstube: Produktionsprozesse"):O.includes("/orders/baking-list")?U("Backstube: Bestelllisten"):O.includes("/orders")?U("Verkaufsbereich: Bestellungen"):O.includes("/dashboard/sales")?U("Verkaufsbereich: Statistik"):O.includes("/dashboard/production")?U("Backstube: Statistik"):O.includes("/dashboard/management")?U("Verwaltung: Kennzahlen"):U("B\xe4ckerei-Management"))},[O]),(0,s.useEffect)(()=>{q||G.push("/login")},[q,G]);let X=()=>{W(null)},Y=[{section:"Hauptnavigation",items:[{name:"Dashboard",icon:(0,a.jsx)(M.A,{}),path:"/dashboard",roles:["Management","Production","Sales"]}]},{section:"Backstube",items:[{name:"Produktionsprozesse",icon:(0,a.jsx)(V.A,{}),path:"/bakery/processes",roles:["Management","Production"]},{name:"Bestelllisten",icon:(0,a.jsx)(P.A,{}),path:"/orders",roles:["Management","Production"]},{name:"Samstag Spezialproduktion",icon:(0,a.jsx)(V.A,{}),path:"/bakery/saturday-production",roles:["Management","Production"]}]},{section:"Verkaufsbereich",items:[{name:"Bestellungen",icon:(0,a.jsx)(C.default,{}),path:"/orders",roles:["Management","Sales"]},{name:"Produkte",icon:(0,a.jsx)(y.A,{}),path:"/products",roles:["Management","Sales"]},{name:"Verkaufsstatistik",icon:(0,a.jsx)(I.A,{}),path:"/dashboard/sales",roles:["Management","Sales"]}]},{section:"Verwaltung",items:[{name:"Mitarbeiter",icon:(0,a.jsx)(z.A,{}),path:"/admin/staff",roles:["Management"]},{name:"Einstellungen",icon:(0,a.jsx)(B.A,{}),path:"/admin/settings",roles:["Management"]}]}].map(e=>({...e,items:e.items.filter(e=>e.roles.includes(H.role))})).filter(e=>e.items.length>0),[Z,$]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{localStorage.getItem("token")||Z||J(!1),$(!0)},[Z]),q)?(0,a.jsxs)(i.A,{sx:{display:"flex",minHeight:"100vh"},children:[(0,a.jsx)(l.A,{position:"fixed",sx:{zIndex:r.zIndex.drawer+1,backgroundColor:"dark"===T?"background.paper":"white",color:"text.primary",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,a.jsxs)(c.A,{children:[(0,a.jsx)(d.A,{color:"inherit","aria-label":"toggle menu",onClick:()=>K(!F),edge:"start",sx:{mr:2},children:F&&_?(0,a.jsx)(D.A,{}):(0,a.jsx)(w.A,{})}),(0,a.jsx)(o.A,{variant:"h6",component:"div",sx:{flexGrow:1},children:(0,a.jsx)(i.A,{sx:{display:"flex",alignItems:"center"},children:(0,a.jsx)(o.A,{variant:"h6",component:"span",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:Q})})}),(0,a.jsx)(i.A,{sx:{mr:2},children:(0,a.jsx)(N,{})}),(0,a.jsx)(h.A,{avatar:H.avatar?(0,a.jsx)(x.A,{src:H.avatar}):(0,a.jsx)(x.A,{children:H.name.charAt(0)}),label:(0,a.jsxs)(i.A,{children:[(0,a.jsx)(o.A,{variant:"body2",component:"span",children:H.name}),(0,a.jsx)(o.A,{variant:"caption",component:"span",sx:{display:"block",opacity:.7},children:(()=>{switch(H.role){case"Management":return"Gesch\xe4ftsf\xfchrung";case"Production":return"B\xe4ckermeister";case"Sales":return"Verkauf";default:return H.role}})()})]}),onClick:e=>W(e.currentTarget),sx:{height:"auto",pl:.5,pr:1.5,py:.75,borderRadius:2,cursor:"pointer","& .MuiChip-label":{px:1}}}),(0,a.jsxs)(m.A,{anchorEl:L,open:!!L,onClose:X,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,a.jsxs)(u.A,{onClick:()=>{X(),G.push("/profile")},children:[(0,a.jsx)(p.A,{children:(0,a.jsx)(R.A,{fontSize:"small"})}),(0,a.jsx)(g.A,{children:"Mein Profil"})]}),(0,a.jsx)(A.A,{}),(0,a.jsxs)(u.A,{onClick:()=>{X(),localStorage.removeItem("token"),J(!1)},children:[(0,a.jsx)(p.A,{children:(0,a.jsx)(E.A,{fontSize:"small"})}),(0,a.jsx)(g.A,{children:"Abmelden"})]})]})]})}),(0,a.jsxs)(j.Ay,{variant:_?"temporary":"persistent",open:F,onClose:()=>K(!1),sx:{width:260,flexShrink:0,"& .MuiDrawer-paper":{width:260,boxSizing:"border-box",borderRight:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"none"}},children:[(0,a.jsx)(c.A,{}),(0,a.jsx)(i.A,{sx:{overflow:"auto",pt:2},children:Y.map((e,t)=>(0,a.jsxs)(s.Fragment,{children:[t>0&&(0,a.jsx)(A.A,{sx:{my:2}}),(0,a.jsx)(o.A,{variant:"overline",color:"text.secondary",sx:{px:3,py:1,display:"block"},children:e.section}),(0,a.jsx)(b.A,{children:e.items.map(e=>(0,a.jsxs)(k.Ay,{button:!0,onClick:()=>{G.push(e.path),_&&K(!1)},sx:{borderRadius:"0 24px 24px 0",mr:1,color:O===e.path?"primary.main":"text.primary",bgcolor:O===e.path?"rgba(0, 0, 0, 0.04)":"transparent","&:hover":{bgcolor:O===e.path?"rgba(0, 0, 0, 0.08)":"rgba(0, 0, 0, 0.04)"}},children:[(0,a.jsx)(p.A,{sx:{color:O===e.path?"primary.main":"inherit"},children:e.icon}),(0,a.jsx)(g.A,{primary:e.name})]},e.name))})]},e.section))})]}),(0,a.jsx)(i.A,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(260*!!F,"px)")},mt:"64px",transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen})},children:t})]}):null}},24978:()=>{},37049:(e,t,r)=>{"use strict";r.d(t,{D:()=>o,N:()=>i});var a=r(95155),s=r(12115);let n=(0,s.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,s.useState)("light");return(0,s.useEffect)(()=>{{let e=localStorage.getItem("themeMode");"light"===e||"dark"===e?i(e):i(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}},[]),(0,a.jsx)(n.Provider,{value:{mode:r,toggleTheme:()=>{let e="light"===r?"dark":"light";i(e),localStorage.setItem("themeMode",e)},setMode:e=>{i(e),localStorage.setItem("themeMode",e)}},children:t})},o=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}}}]);